2024-10-20 03:11:29,696 - utils - INFO - Received code: 123456
2024-10-20 03:23:10,662 - utils - INFO - Received code: 123456
2024-10-20 03:27:48,559 - utils - INFO - Received code: 123456
2024-10-20 03:29:10,468 - utils - INFO - Received code: 123456
2024-10-20 03:32:21,753 - utils - INFO - Received code: 123456
2024-10-20 03:45:33,296 - utils - INFO - Received code: 123456
2024-10-20 03:48:15,927 - utils - INFO - Received code: 123456
2024-10-20 03:52:04,388 - utils - INFO - Received code: 123456
2024-10-20 03:53:35,468 - utils - INFO - Received code: 123456
2024-10-20 03:57:33,514 - utils - INFO - Received code: 123456
2024-10-20 04:02:20,296 - utils - INFO - Received code: 123456
2024-10-20 04:08:34,902 - utils - INFO - Received code: 123456
2024-10-20 04:10:10,879 - utils - INFO - Received code: 123456
2024-10-20 04:10:21,873 - utils - INFO - Received code: 123456
2024-10-20 04:10:22,117 - utils - INFO - Current user permission: DEFAULT
2024-10-20 04:14:23,780 - utils - INFO - Received code: 123456
2024-10-20 04:15:19,106 - utils - INFO - Received code: 123456
2024-10-20 04:16:26,211 - utils - INFO - Received code: 123456
2024-10-20 04:16:55,011 - utils - INFO - Received code: 123456
2024-10-20 04:17:16,594 - utils - INFO - Received code: 123456
2024-10-20 04:17:16,803 - utils - INFO - Current user permission: USER
2024-10-20 04:19:26,666 - utils - INFO - Received code: 123456
2024-10-20 04:19:26,787 - utils - INFO - Current user permission: USER
2024-10-20 04:20:30,953 - utils - INFO - Received code: 123456
2024-10-20 04:20:31,369 - utils - INFO - Current user permission: USER
2024-10-20 04:25:02,205 - utils - INFO - Received code: 123456
2024-10-20 04:25:02,327 - utils - INFO - Current user permission: USER
2024-10-20 04:28:03,914 - utils - INFO - Received code: 123456
2024-10-20 04:28:04,098 - utils - INFO - Current user permission: USER
2024-10-20 04:29:27,293 - utils - INFO - Received code: 123456
2024-10-20 04:29:27,459 - utils - INFO - Current user permission: USER
2024-10-20 04:31:21,054 - utils - INFO - Received code: 123456
2024-10-20 04:31:21,321 - utils - INFO - Current user permission: USER
2024-10-20 04:31:21,354 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTQ4NTA4MX0.l4JLup7HDINnK4aSVAvnSyG-lrlnNNcibx4TZwO3wCgQzGYFhx6hl8hjMlo4lRHGA-Foq0xNstKvkbQPqS-VyLNrSupU_T6ljKwGqr5pDS03HAAEUoKMqV35SxzNI6OgcMc5KerquKy_6HtwEz114ypvUWEVGeSk5BLP0e_kJefGviP_YKJ5qTtu4Yu1EVas2u_wzgK_wFO-H8JMBowEdCe5OLByELfmGvca0MkXNS2_f4cqohoM6od4OoWqxwMshMspPATs9g2HpC9YNOcDJRJERlnhUAG5Cc9g_UivsgNBeC_wX1jom1zoWVFsQ4XTzJ5KVCwIh9fJee9FzhZ14g
2024-10-20 04:31:37,202 - utils - INFO - Received code: 123456
2024-10-20 04:31:37,206 - utils - INFO - Current user permission: USER
2024-10-20 04:31:37,240 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTQ4NTA5N30.Dlim39OCWm0crwzaVJI1nkrtNagOmv8YB_YYPClrYU2GRRtbMGfBNOFm3Wl-_-1b-pZB8iXi5AecC06FSCzk5t5bIfMHZSca_eY8u47I_nlFP-6BNDgavCivF8mRQ6SBda7SuxY8hkHSLmjSxua7aK0y-EjV8ewOD2D2aT3Sxiaeu7Wlo7ZNh_NYl4UNlvU4k5iEzhnzLaBOPidP9keupL34E5m3Eqcz1TW-I5Hthg_UvFkoXn5hH2umWDPQeftUd9xThz6wwP1J2qTS-Dg2nJ2c6KOc98YZ1VMWUxokVT5oQeuQpA9RpwT2rApc1cfMz5Ks7bjAyiga7ftDZPXb2Q
2024-10-20 04:35:31,535 - utils - INFO - Received code: 123456
2024-10-20 04:35:31,757 - utils - INFO - Received openid: {"errcode":40164,"errmsg":"invalid ip 112.10.192.18 ipv6 ::ffff:112.10.192.18, not in whitelist, rid: 67148891-7ce51047-5b198396"}
2024-10-20 04:35:31,759 - utils - INFO - Openid: None
2024-10-20 04:35:31,760 - utils - ERROR - Failed to get openid
2024-10-20 11:10:06,234 - utils - INFO - Received code: 123456
2024-10-20 11:10:06,499 - utils - INFO - Received openid: {"errcode":40164,"errmsg":"invalid ip 112.10.192.161 ipv6 ::ffff:112.10.192.161, not in whitelist, rid: 6714e50b-7718f1da-1eb527cd"}
2024-10-20 11:10:06,509 - utils - INFO - Openid: None
2024-10-20 11:10:06,514 - utils - ERROR - Failed to get openid
2024-10-20 11:12:45,439 - utils - INFO - Received code: 123456
2024-10-20 11:12:45,687 - utils - INFO - Current user permission: USER
2024-10-20 11:12:45,721 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTE2NX0.Xcd_YHnciuILtWP3BG8pkbYXaa3IZ3kN62k6XMMbmWrB2FjMHrFU-WaPN_GN-FtbaN0F8ykU-k7LtbJYGyxQN4EaExh3unDm8fO_cIY7GfQnjB2pfBZEu5p3oQFKfpuXawvyu83FT93KKF0eeFWWkIxp3ecjzbQ-a9kNCRL2QOahh_sCs4aHYyLFAPww0-d_7qOAJvUMqKVdtlGRABVIJCq2eHtbu5jyC2ErgmXShTi_wzIjn1xAChB494ixKUSw_OZNzsOLAyUz92xk-xxE6AVkl3DFIr6CWW05479FkO6BpkLlYtxPxRO_-ltXBKzewgomT5Tp5cc8bGTOP2cHBA
2024-10-20 11:17:44,829 - utils - INFO - Received code: 123456
2024-10-20 11:17:44,947 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:17:44.940173
2024-10-20 11:17:44,977 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:17:44, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTQ2NH0.XGryBMQgm-sBeekDr5JudhxqDXPFSFii7qIy6FwUCCwMfVT6jRdx1SWFBCJzWVc8LpTFlmrwWQHZf7bCmT0cOAGQ1syEil0wZZQk8cJzPXW57_RD8E_a7_dDKhN_cVMsnBBG2ZtJDAZJOZ4SL_caYUUmYq1jsXr-FQpgkgE8wlpVKpMHOFh7rkSdQdgmJ7Z6aThK9NsYn5_z44rX95XFsRSyH0HEbRnZHnzkjnBSKP7AkzafTVN1wihfK08E_DDfsgY9qLpKWMbe4biaGohuQ3oIw4KAvcU7jTeZuKnjhf2DQs2UO-YMg6Owi3T0KB17dDBBGc1gefNNPnlpZNIIfg
2024-10-20 11:18:10,877 - utils - INFO - Received code: 1234567
2024-10-20 11:18:10,884 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:18:10.880232
2024-10-20 11:18:10,915 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:18:10, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTQ5MH0.U_MKaMmCciMP5H8UCy70RmW-rC6ArkjwbBUGYoxF3JpETrkGuHnAC70hyxdjUCfhRnI6t9EHgZ4OTg88GB5oQqi1tusoIEhFqFhzkhLLsBDfY8FXu3oK0vPH3Q_wVhxWp6Ge_REKmiKhS_K4Sm1SK0QkNS-1LWqMxBVQvmBTmy-MvTvcU7uEHIONdHT32R5XgXE_c02kO-z_P6mU9mdrabG5iNArcLea441c3YlHRYtDseV0Zd47Gt3DwkZLS6ylNY8sE1oiYFFKdI32Uk-ohHVvQR0wTZDnDXlcJmJzc-S5MgrDzv2k8C6cZMYJYXV9xugQIq0g4os-ARxbA2sHcQ
2024-10-20 11:18:23,941 - utils - INFO - Received code: 1234567910
2024-10-20 11:18:23,957 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:18:23.944182
2024-10-20 11:18:23,991 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:18:23, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTUwM30.flFGTPFSlYmF1ey3ij0eILjbheUpeXdKH-sJLC9fnhvlatpsZkad5WRh3UVxjQQWX1quHeviV8CeS6wmhrdfJ0Dx76cbWUgJlHMbvIk0SPWiJkDzzbSqBSnyGpy9BfENF9s_t9Qg3zUKlDVktsmOVBAaKBn-hHiewvKwGcPFx1-yK6qaxU01N43A3fOlo83yWZtfZcx1c8sfj_FuwMOXP_-nVpe_RokLZ48IGEnFl6wPCSbU0BsMrS8aO8YqYbXdwq6nhwiK-4nAJbN_MNsbPomOGBgx0KlJa-_GxKNYhqaMco3xzOL0Ef4S1Y9N7hmDQ51X2vvvmmyMIDWldyFk1w
2024-10-20 11:18:44,602 - utils - INFO - Received code: 1234567910
2024-10-20 11:18:44,616 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:18:44.604466
2024-10-20 11:18:44,654 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:18:44, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTUyNH0.Si-tO9HKocPw6PggaVYp2HQYPyl3go3SjdKASrvm1uqIcXSsuzwb8Pc8TlaZuyyhtd5CGtJP4E2889yb_K5mTDlNureDtJwXenoHXivDkPpDv43orkLcrsrT-7I3L7XZebVbFlDstihJX5uTWsUb2YERrbDL_QaiWbpHEFDVcA0hxCqa32HtbI6d9MW3rFPC97ftW8s3mmH-XG8m3mnrqEQxyso9deaGTfrCBUISjmXjMuH_PcgmXk0wHMYx2EIszfJiNuaGKathmt7FxqYI6dPQoGetKH_zDFt6I5bU-NNlCZi8w5KP9zKJhV6zw19QA3ellswRXZl6k8gw8fsnGg
2024-10-20 11:18:50,019 - utils - INFO - Received code: 1234567910
2024-10-20 11:18:50,032 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:18:50.021799
2024-10-20 11:18:50,065 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:18:50, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTUzMH0.HmIcS7eQBI0rD-D9Wqmu7trL59aWaoCBy9yK5hVK70LCP8wQ15uHWR01dNd8S143XvtLALaYW3bIISxn1S56GK49uiCIayMsY3P9lBo83DoysbCfuRVK8OgqtT3S4xkJ8QpgO0vO6pmX5-rmCkSJUcIo5GkWuU13cnIoE_Hqjh6IgxOSYNiSV6oSOoZfByyTaiwZN1N8PtJQbYhdfMUt3kufRPZ6fMEhFT0NgXA_ELR8DuJn3qiT-1AHUQCHESFQyzvQfZaahvZHWj_5GQQw0HKZbviIkQdwI2_jvCUfXCSjArfW1MyS42BH-zcuwQPefAFNCTZMYM_Vc-R-BJY0qQ
2024-10-20 11:18:57,888 - utils - INFO - Received code: 1234567910zzz
2024-10-20 11:18:57,903 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 11:18:57.891499
2024-10-20 11:18:57,937 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 11:18:57, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUwOTUzN30.eHHMOZm70qzh7k9vsvtrPsdDTSr36FvUNmNM8SbkR2wGB4pAr6Qp0BGsLSm3EWaVCv1reCM6vnJTHW55knlLvqOVFC7xfG9_doy0FZFhYuPdgtVUmGFZV9ILXF5id6RmbhmATdjhbgg0AFtKtVoP9LU71rdoMyH747ZF9ZA2F7QE8_uyV2WYIMrb7cynHre2Gw8lKBG1WXhGBtCAXcMRaWg-l2vNXEAj313NIS2RXq9q8ewzzkRM0dwpC7q2f3O7AfGFYYGoWcL-LcCDRp20bnE4yL2_6zJZLzO8ntcjrEgI9XJ84lIEiMkJ3i4QADpp8TrWGZHXBk4sQtEjhvlImg
2024-10-20 19:27:55,973 - utils - INFO - Received code: 1
2024-10-20 19:27:56,195 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:27:56.187887
2024-10-20 19:27:56,229 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:27:56, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzODg3Nn0.I-p9zUnQhO9ooPd9GVaCglHMVhjcM1uAwAS8Dtd06LKQFlJbjsRXeAO8GV4asb8YX0lxZrVGR3myolBNYo5lHmSOEdC5eiTB5aqK32dMbBXii6QFJWPlO9O_q_WA0SVOZX0yKRtTx05hON2Ju890yYwrxknPEvm4QO3ZB66RgWrELyz_kvlmDwRTp9xK0H7Rc2wCnAxDe_FrJL8RvnSAaOjPlS9C8Ra4larlpv87xwr9lhlFNdhoHsQ9lvbaOhzBS7f8hWGgj5T8naH0gBtF5gnLS6nUkCNyLe5Jsc5FBEvJH0H1YtSYxIwd_c5gUmAi0fSI0xprKcJRJFWos3SkUA
2024-10-20 19:28:06,548 - utils - INFO - Received code: 2
2024-10-20 19:28:06,564 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:28:06.552862
2024-10-20 19:28:06,601 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:28:06, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzODg4Nn0.T_oMmlCBeSXqCHmJLws5TqPqswvzdEXsvbHDI4Z73wOTsQhzXCw2VUyImZkEHoJ4hqzWxLOYaL9mNMBCs1Pc0nY_m9oFGvQzBABJf3O_H6HUEp_wfPm__D3yOjCpQETSW8YVJq3g5K0iE4XoQZHyXuYnNnCVAZRNleQIwxSg466Legrw817gez1-rwiZrx3UZ6Mx83eS6m_SjyUszj-aTK9eOGYss6rDCseO9-qlZUDU6PexhXRNOdR5m81RpbU03FE7WbeARfKRtAYcvQuPceg9JnnnJGO6RlBwAG656HUcGwspjEeFba_nKNNdwVVHMCF1D_UGo2cEyLJgUr0wQA
2024-10-20 19:28:12,204 - utils - INFO - Received code: 1
2024-10-20 19:28:12,211 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:28:12.207145
2024-10-20 19:28:12,245 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:28:12, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzODg5Mn0.pJQSAMo6-mdyfY21NS-Y5EHxkaZXF2Bx43k63TOScvKNiqCAu1LScFp6YB-U_F7oVn6Z4lezp_RD5QSkk_PSkYYzwFZLSPhzNl3WL1ewRovEhLRIivEJtHF53A82BdqkxaTbltpmG2s90BuQdFqmn9oeKKliYFy5mzSRBBAQuAJzCBnwJj1Ff925PW-tHAC7AGPIT3yXFJvlih-nDQMV40jlm5nzTT-GaZdgN29YyMvQfUyePVmX3CnkIjPmV2lHenngwzltQyx2TqbW34hgay4wxfJjWSHP5un9oTJTpB79nubK6cG_s4U-ngK55-ntOlcBZ0ALRWLrpb0OU3ikXA
2024-10-20 19:38:15,726 - utils - INFO - Received code: 1
2024-10-20 19:38:15,744 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:38:15.737940
2024-10-20 19:38:15,780 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:38:15, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzOTQ5NX0.lfxt2_aZBIxkW1Q_AzfeDSCA92KTNUrHpiwqvMsURxfBjxvad1WRgF9YNwxYDn9HkoWUmqJ_JXkvSGLLoJu-o8vZ9djRUOgS_7sCRyGYwcMH15mJxmPgi3J5NKQ9NMmuL6AibdAjnI32rer1JZs6RnXjUHg_53M7obqALhhg_qODYLPhsh9irayxRqyREsPXrDPBfWwAFcynW6Yc1yMBXPPZFhyjWRFJsjn4F-SRvwv5yWFDBSdEcevidWrqpF8jWsvfcdhScOiEkWfZhS5LfmI7UoA79r8l9Lhp6CwPsBU-WB2KqmBjLyoX_S_R6P_HzQ3XmBblEErIGNCTMWyekw
2024-10-20 19:38:19,666 - utils - INFO - Received code: 1
2024-10-20 19:38:19,672 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:38:19.668762
2024-10-20 19:38:19,708 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:38:19, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzOTQ5OX0.PZ1NAr2K3NjNBH1np92mXq6JTY1M5AYLKYvZlip52kXOHSzJ6CkfXOJIZX1cX1szjP3WmgDKpbDs33XkwU7bbN5P3AqnQlXrymlk8fgfjDLeTrWcXIKxm6UTPwnjRk5wZOLWAZdPvRw2SmJ4_ZcKLSPKA6Kp3MdkMA6qu-QRCq7U2_DLaPj5bIPJicUistr4owCE9AeO_mcgWqltHBrAYuWiB7DgZsw84AysIROIrAzsEX7r3MNrVCZ9HxPZS6b2nDLC2BDwD9XdBabTE119gNRiDEeGqWBA4AUMFXEcE_ufWq4YTz37hfpxhl2-KcNuxvBepnd1IAiuV_GQcbpONA
2024-10-20 19:38:26,190 - utils - INFO - Received code: x
2024-10-20 19:38:26,205 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:38:26.193695
2024-10-20 19:38:26,243 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:38:26, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzOTUwNn0.IgbWjdP1LCDrVvs7DwECus_U2EIO0EVBI-MRBhVd1GV6msEhXzpnf5icu53x9eqBZ18wb__Ms21xv2z5aYhzTZ8NC33MLZi3_A1sHveobIMZhGYAi5akdkr9whtuuakCJkam8bvbyJqS6CB9AaACYnv-xKHSlMClcU7o7VqHJaY1Lltmt4MlacM7x9q56OgDXJpQ1kOyXSDx8Q3ECQn1PzMovF7kbv_R6xBqMLMwdGeazKLzZsdn4dyPsvIGSS3EPEaUUbv_ItsSuRvv4UsSSRmYJqmvaiboKijH-1jcP_GwAgL39LwL2EQBazL-Rs2F0dP7u7FTvcBmhQfyR9hE6A
2024-10-20 19:38:34,843 - utils - INFO - Received code: a
2024-10-20 19:38:34,858 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 04:17:16.746235, updated_at: 2024-10-20 19:38:34.846545
2024-10-20 19:38:34,895 - utils - INFO - permission: USER, created_at: 2024-10-20 04:17:16, updated_at: 2024-10-20 19:38:34, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzOTUxNH0.TK_A6tkKA1mWWPeZ4TnrYQPSWrjsX0T2fOoNq_joM8coWCPnmppQKVX9Odf8JRyPo096EcRnqgw0Isga6oiQP5I--zSAQSEjm7VzO1U5rkR3-Z925m1iU79jFo40-pFbNOQeAihxrohytffvtsya1jsRFUcE_8POD1NWzceyFSVzYzKzF6VgwutgHLwibPjI6OVM3nNHu9IJvv-FUw756xj3kojZRMqloPa4qpWqPyJICGJDISXitoija89v7UBeBvKHEiH7NX8t97XoItceW7p4B6DJLvIZxBad-9F1t8qwpt_FY1TmTOnONC-xMYNAvgbdyW81O8pjYTBV-b5KQw
2024-10-20 19:40:15,128 - utils - INFO - Received code: a
2024-10-20 19:40:15,186 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 19:40:15.145159
2024-10-20 19:40:15,220 - utils - INFO - permission: USER, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 19:40:15, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwZXJtaXNzaW9uIjoiVVNFUiIsImV4cCI6MTcyOTUzOTYxNX0.ImOfh00sZNAQJ0hy14thXhfsKZf0lrR_eEdG7QGiw2fYD5PMZyQbW6247LhGPl_iTJ5Tm6ppbckasWYkAUEvTbFbqxRUGaHZgNhpgesKWPs8tjPtd5bgLHw70gcZQnpimkvY8_VMTfGLwMewf_YiXIpXmgtcH_h-I46wvxOVW6bAso72GWrLJulTweJYrdakAnR1QefJrV_E8t2pjhVEzqd7vrCaH1E817WXraWjlvhaVAiPdUXmcMr7rnCBV99iHOWugugoBMVQaq8q6eX31xGAK4vZHIB1gF3l6GHDwKzDeWr1rN3iDmYYbQH9kUFeGakyGE7IvoRWro4OfVVBgQ
2024-10-20 21:11:09,670 - utils - INFO - Received code: 123
2024-10-20 21:11:09,718 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 21:11:09.687464
2024-10-20 21:11:09,754 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ1MDY5fQ.ajoleWwNEzf4Eq6b2tdIrHBK7HgVVgXYMf8rpzseGxGUdC7vchfXjQ-a9GKWeb40RUHTQgH4onyVROIUk3q49Z2lzAUzB1TEeCrC4hTl2X2OyVRHv2HXMbnJeFiC6ntEE49gxOYgZK4W9TxnMlUVIpB7u-ZcxR1v8f0UR51p_T5E11vu6IZQ3EHdx5_xQkBFYaA0XbdVMANjsnrKgnQnG86pb3K1FWJvBKG29O6w36C0tm-pBdevAhCaxeOURl0r3hE6A6zAwg6VuygVBCXHzZ4Y_JaR8xz2L9drM24YmU-JGRrY2lixIpeiW8ZYO33HViRNAgJY8HytaxFoBdHzaQ, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 21:11:09
2024-10-20 21:17:17,427 - utils - INFO - Received code: 123
2024-10-20 21:17:17,465 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 21:17:17.444299
2024-10-20 21:17:17,500 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ1NDM3fQ.sQd3M8Won0cCr4n_x-DKK_IorYR256uQwrtpyUddGa67inCoU5gOy9XeICkqo1xBpfW29YDW8TYteYdbtAD8bQaM8c3J3xOFCWyXw-tidwMkXEZNUE5T4cO99-9CY4CGsOqvMLnZl9VPrgvYTvV7bakQm9YfHALkEogI-PxP0pc4uX6S_LG8o_v-RZcMlXDTkYXnJTX8dfMiKkWJijj-YRqhZ7TDGKhBHKvwCdYaS53fsuAOE89060gcfzsdnDut4zuts8Hmj1hTJmdUu71T9Fp6szcZhu809OQkwbqc1TTVAXw_ogPtQfUl3cjt1h38SrwLAqALoXbaR8KekP74dg, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 21:17:17
2024-10-20 13:25:54,663 - utils - INFO - JWT_PUBLIC_KEY exists 1
2024-10-20 13:25:54,669 - utils - INFO - JWT_PUBLIC_KEY exists 2 
2024-10-20 13:27:27,419 - utils - INFO - JWT_PUBLIC_KEY exists 1
2024-10-20 13:27:27,424 - utils - INFO - JWT_PUBLIC_KEY exists 2 
2024-10-20 13:27:39,711 - utils - INFO - JWT_PUBLIC_KEY exists 1
2024-10-20 13:27:39,716 - utils - INFO - JWT_PUBLIC_KEY exists 2 
2024-10-20 21:32:40,118 - utils - INFO - Received code: 123
2024-10-20 21:32:40,170 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 21:32:40.143909
2024-10-20 21:32:40,205 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ2MzYwfQ.hSMUcNwFtS3o79-7Slrttjk350YAyIHRkA183CfGKCNGk_lXak999SC0j42qJx0JH8EKtA81wSaTSQU9iikaAROJ3M0N-QuWuDBNtRWg3ewsbVjRSWXN9-KniYKo6AxdLWE5pCPZtCbva1HbCC7mq9oiVpmEBiW7OpdpsINaISGzs14PnTKEraStLOeKfTBJ63ntn2wl2uvCdc2ZVZV0R8FOZyhpM-UiM93Bdn2Gp-EhndGCaoF4W5FrguU2aD6Rj-UrqBCxU2D439dZpk8pnmzctH8iBy6GI7BHkugxRu6wcuMHyfNtxb0SYsOSneLUzIoaiWRNjaZ04ekmkzn-pg, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 21:32:40
2024-10-20 21:37:01,979 - utils - INFO - Received code: 123
2024-10-20 21:37:02,016 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 21:37:01.997399
2024-10-20 21:37:02,048 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ2NjIyfQ.OfNS-t1q5-Dt7MHnfxLpNdsxO-Fc5-nJJZDDQJ5qDbeY9dhaCK2FuPZcy-CLjU0XtFLGXaNlLbmFekJbEB1NoVtQtOCqm4JQnQKyWU0y_i6fSIZ-ajmjk9wM5Xiz-Nl7lfWbne5BggooMslbXooGSGpPUu5xUdU7_p8VpFAKtI948kY2LNPumWXyDspWp4mSLE0i_CVlXMJgCfi1VTQ17VN7R5W7GbGl1j6K90aBMXh2aspGKokr7UvxwUHGkmBnQuK0xar1pDjxC877wJyr3C6r0OeR9d2IrtwESd--EI1b_UlPJpV8HipGQezWg0oCUxnfUtCpSk6AP8BaaZi4rg, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 21:37:01
2024-10-20 13:37:38,758 - utils - INFO - JWT_PUBLIC_KEY exists 1
2024-10-20 13:37:38,767 - utils - INFO - JWT_PUBLIC_KEY exists 2 
2024-10-20 13:37:38,767 - utils - INFO - JWT_ALGORITHM: RS256
2024-10-20 13:37:38,768 - utils - INFO - token: <eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ2NjIyfQ.OfNS-t1q5-Dt7MHnfxLpNdsxO-Fc5-nJJZDDQJ5qDbeY9dhaCK2FuPZcy-CLjU0XtFLGXaNlLbmFekJbEB1NoVtQtOCqm4JQnQKyWU0y_i6fSIZ-ajmjk9wM5Xiz-Nl7lfWbne5BggooMslbXooGSGpPUu5xUdU7_p8VpFAKtI948kY2LNPumWXyDspWp4mSLE0i_CVlXMJgCfi1VTQ17VN7R5W7GbGl1j6K90aBMXh2aspGKokr7UvxwUHGkmBnQuK0xar1pDjxC877wJyr3C6r0OeR9d2IrtwESd--EI1b_UlPJpV8HipGQezWg0oCUxnfUtCpSk6AP8BaaZi4rg>
2024-10-20 13:41:21,841 - utils - INFO - JWT decode failed
2024-10-20 13:44:58,125 - utils - INFO - JWT decode failed: Invalid crypto padding
2024-10-20 13:45:04,357 - utils - INFO - JWT decode failed: Invalid crypto padding
2024-10-20 21:47:42,854 - utils - INFO - Received code: 123
2024-10-20 21:47:42,916 - utils - INFO - Current user permission: USER, created_at: 2024-10-20 19:40:15.145151, updated_at: 2024-10-20 21:47:42.891041
2024-10-20 21:47:42,982 - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NTQ3MjYyfQ.Nr4fHZ9zD0B0f4cYSnczvKpClBvC7M2t1ufzHWppCQXbBtSF8piXDMSwhsrL9fW6eZjC-EBrp3SfV-8xYZAhJH8bGrQsanwDMEkwDe2XbLPFI95MvdWpN4X0Sufw-2qnNWl1gurb69YFNZuP6BhTKjMDdGuHETxNFjXOvVzNltKDrCvBDGKyjlscIgPRudMjoT4J62qUzCxOlHoXeGJlpu2VEuvn50XWGIZy7wuAiGuVZCFZi02FQA7crecCgWcL8aeMESgKx4GnNMkjvwaXw-PjnO7zpncR8xUoE9wumsIQXDLjyEP9MIuzaiJ0RN6mf38K53sfVLJCJg9PNEKwyA, created_at: 2024-10-20 19:40:15, updated_at: 2024-10-20 21:47:42
2024-10-20 13:48:12,178 - utils - INFO - JWT decode failed: Invalid crypto padding
2024-10-20 13:49:23,557 - utils - INFO - JWT decode success
2024-10-20 13:49:23,558 - utils - INFO - User test2 received image: 100332.jpg
2024-10-20 13:49:23,612 - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 13:49:23,621 - utils - ERROR - Failed to send message to Kafka: unsupported operand type(s) for &: 'str' and 'int'
2024-10-20 13:52:23,837 - utils - INFO - JWT decode success
2024-10-20 13:52:23,838 - utils - INFO - User test2 received image: 100332.jpg
2024-10-20 13:52:23,901 - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 13:52:24,178 - utils - INFO - Sent message to Kafka: {'task_id': '663d456a-6515-49d3-8182-d5362bec40b9', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:00:53,766 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:00:53,768 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:00:53,800 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:00:53,816 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': 'ce618917-8a9c-481e-bd22-96814e05385c', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:02:03,748 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:02:03,751 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:02:03,835 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:02:03,840 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '16f86ffc-8ff6-4023-9ec7-80977149ebc8', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:04:16,886 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:04:16,896 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:04:16,993 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:04:17,016 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '060b611f-371a-4e5b-aeb2-9566cacc6b57', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:08:23,287 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:08:23,288 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:08:23,451 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:08:23,456 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '653f5ea1-59ec-40a4-9b5f-e446becacad1', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:08:23,457 - /app/utils.py - utils - INFO - Processing message for task_id: 653f5ea1-59ec-40a4-9b5f-e446becacad1, image_path: http://minio:9000/photos/100332.jpg
2024-10-20 15:08:24,875 - /app/utils.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-20 15:08:24,876 - /app/utils.py - utils - ERROR - Error storing result in Redis: 'NoneType' object has no attribute 'set'
2024-10-20 15:21:57,976 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:21:57,987 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:21:58,189 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:21:58,214 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '384e4e41-4af1-434d-9353-c5d796a1a16a', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:21:58,224 - /app/inference.py - utils - INFO - Processing message for task_id: 384e4e41-4af1-434d-9353-c5d796a1a16a, image_path: http://minio:9000/photos/100332.jpg
2024-10-20 15:22:00,028 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-20 15:22:00,029 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 384e4e41-4af1-434d-9353-c5d796a1a16a
2024-10-20 15:26:46,091 - /app/utils.py - utils - INFO - JWT decode success
2024-10-20 15:26:46,096 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-20 15:26:46,169 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-20 15:26:46,178 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '4e84dee5-e09f-47c4-a43d-f25372ed3840', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-20 15:26:46,190 - /app/inference.py - utils - INFO - Processing message for task_id: 4e84dee5-e09f-47c4-a43d-f25372ed3840, image_path: http://minio:9000/photos/100332.jpg
2024-10-20 15:26:47,660 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-20 15:26:47,681 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 4e84dee5-e09f-47c4-a43d-f25372ed3840
2024-10-20 15:26:47,727 - /app/inference.py - utils - INFO - Saved to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100}
2024-10-21 01:27:11,257 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:27:11,269 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:29:06,463 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:29:06,464 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:29:06,534 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:29:06,546 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': 'b7a4dc27-9596-4003-8897-4f647eb78302', 'image_path': 'http://minio:9000/photos/100332.jpg'}
2024-10-21 01:29:06,551 - /app/inference.py - utils - INFO - Processing message for task_id: b7a4dc27-9596-4003-8897-4f647eb78302, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:29:07,993 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:29:07,996 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: b7a4dc27-9596-4003-8897-4f647eb78302
2024-10-21 01:29:08,001 - /app/inference.py - utils - INFO - Saved to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100}
2024-10-21 01:29:08,001 - /app/store.py - utils - ERROR - Error in consume_messages: 'str' object has no attribute 'get'
2024-10-21 01:29:08,877 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:29:08,886 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:33:21,224 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:33:21,235 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:34:39,944 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:34:39,945 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:34:39,996 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:34:40,008 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': '6dc90b7c-7860-4699-a133-f6c530da060d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 01:34:40,012 - /app/inference.py - utils - INFO - Processing message for task_id: 6dc90b7c-7860-4699-a133-f6c530da060d, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:34:41,508 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:34:41,513 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 6dc90b7c-7860-4699-a133-f6c530da060d
2024-10-21 01:34:41,518 - /app/inference.py - utils - INFO - Saved to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 01:34:41,519 - /app/store.py - utils - ERROR - Error in consume_messages: 'str' object has no attribute 'get'
2024-10-21 01:34:42,455 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:34:42,462 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:38:35,436 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:38:35,450 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:38:43,442 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:38:43,446 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:38:43,499 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:38:43,506 - /app/upload.py - utils - INFO - Sent message to Kafka: {'task_id': 'c10a52b9-bd40-47d8-bcf8-6d8384901c8e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 01:38:43,517 - /app/inference.py - utils - INFO - Processing message for task_id: c10a52b9-bd40-47d8-bcf8-6d8384901c8e, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:38:44,141 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:38:44,149 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: c10a52b9-bd40-47d8-bcf8-6d8384901c8e
2024-10-21 01:38:44,153 - /app/inference.py - utils - INFO - Saved to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 01:38:44,153 - /app/store.py - utils - ERROR - Error in consume_messages: string indices must be integers
2024-10-21 01:38:45,029 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:38:45,035 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:44:43,866 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:44:43,902 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:44:45,653 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:44:45,666 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:45:15,855 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:45:15,856 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:45:15,922 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:45:15,933 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '8c93ab74-80ff-494d-82c7-b35037adb7e9', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 01:45:15,935 - /app/inference.py - utils - INFO - Processing message for task_id: 8c93ab74-80ff-494d-82c7-b35037adb7e9, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:45:17,390 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:45:17,393 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 8c93ab74-80ff-494d-82c7-b35037adb7e9
2024-10-21 01:45:17,394 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type ConsumerRecord is not JSON serializable
2024-10-21 01:49:55,386 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:49:55,425 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:49:57,315 - /app/utils.py - utils - INFO - 检查表是否存在...
2024-10-21 01:49:57,328 - /app/utils.py - utils - INFO - 表检查/创建成功。
2024-10-21 01:51:38,670 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:51:38,674 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:51:38,764 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:51:38,788 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '6d13648d-5dea-4099-889a-966f79f9f814', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 01:51:38,800 - /app/inference.py - utils - INFO - Processing message for task_id: 6d13648d-5dea-4099-889a-966f79f9f814, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:51:40,446 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:51:40,451 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 6d13648d-5dea-4099-889a-966f79f9f814
2024-10-21 01:51:40,451 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 01:55:55,430 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 01:55:55,430 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 01:55:55,459 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 01:55:55,469 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'd92c171a-17e6-4eea-b9d0-d474991b5756', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 01:55:55,474 - /app/inference.py - utils - INFO - Processing message for task_id: d92c171a-17e6-4eea-b9d0-d474991b5756, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 01:55:56,930 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 01:55:56,933 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: d92c171a-17e6-4eea-b9d0-d474991b5756
2024-10-21 01:55:56,934 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 01:55:56,934 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 02:00:40,119 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 02:00:40,124 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 02:00:40,184 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 02:00:40,188 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '5508a5d9-59d4-4521-bf1d-088b2e63b876', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 02:00:40,189 - /app/inference.py - utils - INFO - Processing message for task_id: 5508a5d9-59d4-4521-bf1d-088b2e63b876, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 02:00:41,638 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 02:00:41,640 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 5508a5d9-59d4-4521-bf1d-088b2e63b876
2024-10-21 02:00:41,641 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100.0, 'openid': 'test2'}
2024-10-21 02:00:41,641 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 02:07:32,953 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 02:07:32,955 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 02:07:33,013 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 02:07:33,024 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '769a0bfa-9013-445c-b3c2-528514463e0d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 02:07:33,027 - /app/inference.py - utils - INFO - Processing message for task_id: 769a0bfa-9013-445c-b3c2-528514463e0d, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 02:07:34,478 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 02:07:34,482 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 769a0bfa-9013-445c-b3c2-528514463e0d
2024-10-21 02:07:34,483 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100', 'openid': 'test2'}
2024-10-21 02:07:34,483 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 03:37:53,294 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:37:53,295 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:37:53,333 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:37:53,343 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'a5cf0d4d-4d7b-4047-94b6-031a69dca44a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:37:53,345 - /app/inference.py - utils - INFO - Processing message for task_id: a5cf0d4d-4d7b-4047-94b6-031a69dca44a, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:37:54,708 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:37:54,711 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: a5cf0d4d-4d7b-4047-94b6-031a69dca44a
2024-10-21 03:37:54,712 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 03:37:54,713 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 03:38:08,921 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:38:08,921 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:38:08,987 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:38:08,989 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'a229193c-1873-42bc-b5f7-9fae5572fc18', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:38:08,991 - /app/inference.py - utils - INFO - Processing message for task_id: a229193c-1873-42bc-b5f7-9fae5572fc18, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:38:09,120 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:38:09,121 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: a229193c-1873-42bc-b5f7-9fae5572fc18
2024-10-21 03:38:09,122 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 03:38:09,122 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 03:38:36,858 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:38:36,859 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:38:36,927 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:38:36,929 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '59804ae7-0e98-4e81-9bb1-d61bad844df3', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:38:36,930 - /app/inference.py - utils - INFO - Processing message for task_id: 59804ae7-0e98-4e81-9bb1-d61bad844df3, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:38:37,045 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:38:37,046 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 59804ae7-0e98-4e81-9bb1-d61bad844df3
2024-10-21 03:38:37,047 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 03:38:37,047 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 03:44:00,878 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:44:00,882 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:44:00,945 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:44:00,950 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '8001a674-77a7-40b9-ba8e-e61c73544fcb', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:44:00,951 - /app/inference.py - utils - INFO - Processing message for task_id: 8001a674-77a7-40b9-ba8e-e61c73544fcb, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:44:02,331 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:44:02,333 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 8001a674-77a7-40b9-ba8e-e61c73544fcb
2024-10-21 03:44:02,334 - /app/inference.py - utils - ERROR - Error saving to history_topic: local variable 'weight' referenced before assignment
2024-10-21 03:47:13,279 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:47:13,280 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:47:13,342 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:47:13,344 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0c505421-8fce-4399-98fc-8104ce155aaa', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:47:13,345 - /app/inference.py - utils - INFO - Processing message for task_id: 0c505421-8fce-4399-98fc-8104ce155aaa, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:47:14,701 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:47:14,704 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0c505421-8fce-4399-98fc-8104ce155aaa
2024-10-21 03:47:14,704 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 03:47:14,705 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 03:53:38,568 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 03:53:38,569 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 03:53:38,628 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 03:53:38,631 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'f430dcdd-eca0-4b7f-a2c8-589936f3ff34', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:53:38,632 - /app/inference.py - utils - INFO - message_data:{'task_id': 'f430dcdd-eca0-4b7f-a2c8-589936f3ff34', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 03:53:38,633 - /app/inference.py - utils - INFO - Processing message for task_id: f430dcdd-eca0-4b7f-a2c8-589936f3ff34, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 03:53:40,034 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 03:53:40,037 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: f430dcdd-eca0-4b7f-a2c8-589936f3ff34
2024-10-21 03:53:40,038 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': 100, 'openid': 'test2'}
2024-10-21 03:53:40,038 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:05:11,895 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:05:11,896 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:05:11,953 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:05:11,956 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '9fae9c8e-c932-4fc6-9dde-9e2d3612c9ca', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:05:11,957 - /app/inference.py - utils - INFO - message_data:{'task_id': '9fae9c8e-c932-4fc6-9dde-9e2d3612c9ca', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:05:11,958 - /app/inference.py - utils - INFO - Processing message for task_id: 9fae9c8e-c932-4fc6-9dde-9e2d3612c9ca, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:05:13,343 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100
2024-10-21 04:05:13,345 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 9fae9c8e-c932-4fc6-9dde-9e2d3612c9ca
2024-10-21 04:05:13,346 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100', 'openid': 'test2'}
2024-10-21 04:05:13,346 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:08:01,950 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:08:01,951 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:08:02,044 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:08:02,046 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '48a8decd-481b-4cfd-807e-9c18ddc12f0a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:08:02,047 - /app/inference.py - utils - INFO - message_data:{'task_id': '48a8decd-481b-4cfd-807e-9c18ddc12f0a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:08:02,048 - /app/inference.py - utils - INFO - Processing message for task_id: 48a8decd-481b-4cfd-807e-9c18ddc12f0a, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:08:03,449 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:08:03,451 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 48a8decd-481b-4cfd-807e-9c18ddc12f0a
2024-10-21 04:08:03,452 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100.0', 'openid': 'test2'}
2024-10-21 04:08:03,452 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:13:32,949 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:13:32,950 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:13:33,044 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:13:33,046 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '667b9551-b7db-42fd-912e-d3c099ec93f0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:13:33,047 - /app/inference.py - utils - INFO - message_data:{'task_id': '667b9551-b7db-42fd-912e-d3c099ec93f0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:13:33,047 - /app/inference.py - utils - INFO - Processing message for task_id: 667b9551-b7db-42fd-912e-d3c099ec93f0, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:13:34,473 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:13:34,475 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 667b9551-b7db-42fd-912e-d3c099ec93f0
2024-10-21 04:13:34,476 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100.0', 'openid': 'test2'}
2024-10-21 04:13:34,477 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:13:42,288 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:13:42,289 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:13:42,353 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:13:42,354 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '2e8c8168-ec83-4135-a46c-34d8e68e6b31', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:13:42,355 - /app/inference.py - utils - INFO - message_data:{'task_id': '2e8c8168-ec83-4135-a46c-34d8e68e6b31', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:13:42,355 - /app/inference.py - utils - INFO - Processing message for task_id: 2e8c8168-ec83-4135-a46c-34d8e68e6b31, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:13:42,476 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:13:42,477 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 2e8c8168-ec83-4135-a46c-34d8e68e6b31
2024-10-21 04:13:42,477 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100.0', 'openid': 'test2'}
2024-10-21 04:13:42,478 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:23:56,338 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:23:56,340 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:23:56,395 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:23:56,398 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0525feb8-8b84-4b56-83b7-fb8dc97f7a1f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:23:56,399 - /app/inference.py - utils - INFO - message_data:{'task_id': '0525feb8-8b84-4b56-83b7-fb8dc97f7a1f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:23:56,399 - /app/inference.py - utils - INFO - Processing message for task_id: 0525feb8-8b84-4b56-83b7-fb8dc97f7a1f, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:23:57,978 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:23:57,982 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0525feb8-8b84-4b56-83b7-fb8dc97f7a1f
2024-10-21 04:23:57,982 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100.0', 'openid': 'test2'}
2024-10-21 04:23:57,997 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight': '100.0', 'openid': 'test2'}
2024-10-21 04:23:58,012 - /app/store.py - utils - ERROR - Error in consume_messages: 'weight_result'
2024-10-21 04:29:20,191 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:29:20,193 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:29:20,272 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:29:20,275 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '3c99fd47-7aff-4510-ba6e-3f3cee67974e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:29:20,276 - /app/inference.py - utils - INFO - message_data:{'task_id': '3c99fd47-7aff-4510-ba6e-3f3cee67974e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:29:20,277 - /app/inference.py - utils - INFO - Processing message for task_id: 3c99fd47-7aff-4510-ba6e-3f3cee67974e, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:29:21,685 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:29:21,687 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 3c99fd47-7aff-4510-ba6e-3f3cee67974e
2024-10-21 04:29:21,688 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 04:29:21,688 - /app/inference.py - utils - ERROR - Error saving to history_topic: Object of type bytes is not JSON serializable
2024-10-21 04:31:27,510 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 04:31:27,511 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 04:31:27,580 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 04:31:27,582 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '2e886a3d-4f5c-40db-ac5c-ba1c79c9d599', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:31:27,584 - /app/inference.py - utils - INFO - message_data:{'task_id': '2e886a3d-4f5c-40db-ac5c-ba1c79c9d599', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 04:31:27,584 - /app/inference.py - utils - INFO - Processing message for task_id: 2e886a3d-4f5c-40db-ac5c-ba1c79c9d599, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 04:31:28,963 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 04:31:28,968 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 2e886a3d-4f5c-40db-ac5c-ba1c79c9d599
2024-10-21 04:31:28,969 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 04:31:28,972 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 04:31:28,987 - /app/utils.py - utils - ERROR - Store history failed: Foreign key associated with column 'history.openid' could not find table 'users' with which to generate a foreign key to target column 'openid'
2024-10-21 05:35:52,483 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 05:35:52,484 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 05:35:52,528 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 05:35:52,545 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '4cef9432-95d4-4517-a656-c61f18610baa', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:35:52,548 - /app/inference.py - utils - INFO - message_data:{'task_id': '4cef9432-95d4-4517-a656-c61f18610baa', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:35:52,549 - /app/inference.py - utils - INFO - Processing message for task_id: 4cef9432-95d4-4517-a656-c61f18610baa, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 05:35:54,065 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 05:35:54,068 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 4cef9432-95d4-4517-a656-c61f18610baa
2024-10-21 05:35:54,069 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:35:54,073 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:35:54,074 - /app/utils.py - utils - ERROR - Store history failed: name 'User' is not defined
2024-10-21 05:45:16,571 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 05:45:16,572 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 05:45:16,636 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 05:45:16,646 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'f9c3ed4d-0791-4927-960f-0000b270ddb5', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:45:16,649 - /app/inference.py - utils - INFO - message_data:{'task_id': 'f9c3ed4d-0791-4927-960f-0000b270ddb5', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:45:16,650 - /app/inference.py - utils - INFO - Processing message for task_id: f9c3ed4d-0791-4927-960f-0000b270ddb5, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 05:45:18,013 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 05:45:18,015 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: f9c3ed4d-0791-4927-960f-0000b270ddb5
2024-10-21 05:45:18,016 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:45:18,020 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:47:30,371 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 05:47:30,373 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 05:47:30,447 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 05:47:30,450 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'fdd713b6-7172-4c9d-b31b-a20340d14c1e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:47:30,451 - /app/inference.py - utils - INFO - message_data:{'task_id': 'fdd713b6-7172-4c9d-b31b-a20340d14c1e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:47:30,451 - /app/inference.py - utils - INFO - Processing message for task_id: fdd713b6-7172-4c9d-b31b-a20340d14c1e, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 05:47:30,581 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 05:47:30,583 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: fdd713b6-7172-4c9d-b31b-a20340d14c1e
2024-10-21 05:47:30,583 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:47:30,585 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:48:37,185 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 05:48:37,186 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 05:48:37,242 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 05:48:37,245 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '6125efe5-e58e-4c70-b91c-fe0048344c8b', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:48:37,245 - /app/inference.py - utils - INFO - message_data:{'task_id': '6125efe5-e58e-4c70-b91c-fe0048344c8b', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:48:37,246 - /app/inference.py - utils - INFO - Processing message for task_id: 6125efe5-e58e-4c70-b91c-fe0048344c8b, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 05:48:37,363 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 05:48:37,364 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 6125efe5-e58e-4c70-b91c-fe0048344c8b
2024-10-21 05:48:37,365 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:48:37,366 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:51:47,583 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 05:51:47,584 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 05:51:47,640 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 05:51:47,642 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'fa3e48f3-630a-4dae-861b-b7e7a41860f0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:51:47,643 - /app/inference.py - utils - INFO - message_data:{'task_id': 'fa3e48f3-630a-4dae-861b-b7e7a41860f0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 05:51:47,644 - /app/inference.py - utils - INFO - Processing message for task_id: fa3e48f3-630a-4dae-861b-b7e7a41860f0, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 05:51:47,771 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 05:51:47,772 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: fa3e48f3-630a-4dae-861b-b7e7a41860f0
2024-10-21 05:51:47,772 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:51:47,774 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 05:51:47,859 - /app/utils.py - utils - INFO - Store history success
2024-10-21 07:03:52,476 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:03:52,478 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 07:03:52,619 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 07:03:52,631 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'e529777e-a451-4cf8-b473-282a62cb43e1', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:03:52,636 - /app/inference.py - utils - INFO - message_data:{'task_id': 'e529777e-a451-4cf8-b473-282a62cb43e1', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:03:52,637 - /app/inference.py - utils - INFO - Processing message for task_id: e529777e-a451-4cf8-b473-282a62cb43e1, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 07:03:54,178 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 07:03:54,182 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: e529777e-a451-4cf8-b473-282a62cb43e1
2024-10-21 07:03:54,182 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:03:54,185 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:03:54,306 - /app/utils.py - utils - ERROR - Store history failed: 'weight' is an invalid keyword argument for History
2024-10-21 07:06:39,125 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:06:39,126 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 07:06:39,176 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 07:06:39,178 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0f69c76c-d155-4f42-846c-794dd5a63d63', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:06:39,179 - /app/inference.py - utils - INFO - message_data:{'task_id': '0f69c76c-d155-4f42-846c-794dd5a63d63', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:06:39,179 - /app/inference.py - utils - INFO - Processing message for task_id: 0f69c76c-d155-4f42-846c-794dd5a63d63, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 07:06:39,320 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 07:06:39,321 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0f69c76c-d155-4f42-846c-794dd5a63d63
2024-10-21 07:06:39,322 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:06:39,324 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:06:39,338 - /app/utils.py - utils - ERROR - Store history failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "weight_result" of relation "history" does not exist
[SQL: INSERT INTO history (created_at, image_path, inference_result, weight_result, openid) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::VARCHAR) RETURNING history.id]
[parameters: (datetime.datetime(2024, 10, 21, 7, 6, 39, 333307), 'http://minio:9000/photos/100332.jpg', 'sushi', 100.0, 'test2')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-21 07:13:08,492 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:13:08,493 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 07:13:08,559 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 07:13:08,570 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '97c1fab1-c67a-44ad-a6b6-9a7e73f7c1e8', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:13:08,573 - /app/inference.py - utils - INFO - message_data:{'task_id': '97c1fab1-c67a-44ad-a6b6-9a7e73f7c1e8', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:13:08,574 - /app/inference.py - utils - INFO - Processing message for task_id: 97c1fab1-c67a-44ad-a6b6-9a7e73f7c1e8, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 07:13:09,971 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 07:13:09,974 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 97c1fab1-c67a-44ad-a6b6-9a7e73f7c1e8
2024-10-21 07:13:09,974 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:13:09,978 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:13:10,139 - /app/utils.py - utils - ERROR - User with openid 'test2' does not exist.
2024-10-21 15:15:48,151 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 15:15:48,232 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 15:15:48.171345
2024-10-21 15:15:48,267 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjEwMTQ4fQ.MEvbHae9XYTf-cqynNw1nq0rS34F0Gzwb9Ln8A5yaMfr5xhgF_SuCigLtR1pUPMxVZ28mba24zHMOyn0g4IWmpZo-wmF9J_IEtkwdDhynZUZtfQXvehqmqY7U18nse613UN36AmfDgSFP2y7uUZsDSAvftxa_0rVA0jEE2fQv_gbzlqLAkCU_vXMckukgdqgUdKg7FyfoIma3itXWDrmpE2fWvoOAVODfLi5dtSQuBISHgNFUzBwqgUy2m71CEJGLTFD3AjJgjIfEdF8oy3tiA9ZTQIjiY_YZdK9JgnR7jhVvHbyYyI9k3Ln44e5NOs-IvFdDSZmETBeeQS-ykOgcA, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 15:15:48
2024-10-21 07:16:10,223 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:16:10,225 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 07:16:10,301 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 07:16:10,304 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'e9645f4a-a13f-472a-bf1f-df6741d32bcb', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:16:10,304 - /app/inference.py - utils - INFO - message_data:{'task_id': 'e9645f4a-a13f-472a-bf1f-df6741d32bcb', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:16:10,305 - /app/inference.py - utils - INFO - Processing message for task_id: e9645f4a-a13f-472a-bf1f-df6741d32bcb, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 07:16:10,424 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 07:16:10,425 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: e9645f4a-a13f-472a-bf1f-df6741d32bcb
2024-10-21 07:16:10,426 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:16:10,428 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:16:10,453 - /app/utils.py - utils - INFO - Store history success
2024-10-21 07:17:15,348 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:18:52,185 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:19:56,379 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:19:56,460 - /app/poll.py - utils - ERROR - Error fetch history for openid: test2, error: 'User' object has no attribute 'image_path'
2024-10-21 07:22:29,930 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:44:36,702 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 15:44:36,792 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 15:44:36.755258
2024-10-21 15:44:36,831 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjExODc2fQ.rV4KfLf3tP8Dbl9-ezujbBVgwY1EU32LhpwEVCMtsQPQwJIYLv0CbbM5pFQqusu3ohoDMdMaVz-EvQaAdBAx0rWDupsy9YDDlQAOsjhwwPyhJBhFRcZe-jxST6RdvYj1NfyUUCwRj9Ylz6RM3xmbXXqvn7iQvM16AaUT_mIiSDu3PIy61ou5s2ZPLuSlfmzvWOe6zq-vR-pEiIi_Em8W03uUNUgUDaJkhf-AkDczmjLng5RjYlIQG9hYIplD_ESCZKNyjiJ48gnBrKFk4bewWvrXCWoQqM3HZXuuzY-ztB49kRJ9d9SiCEEgFLy4-qZnl7zHjceGmURbC2FlKM8zcQ, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 15:44:36
2024-10-21 15:49:10,700 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 15:49:10,782 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 15:49:10.759837
2024-10-21 15:49:10,819 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjEyMTUwfQ.go7d9hjr2WSGzTUfNgYLP3IOfylPdTvHoOgUG8cG5A01p9HftAVnygqQNCpN_2ax5xsgmhYYR-G0Soij_460uNdyuGdyLbf7Lwi8ZdX5CS56pE5d7VQSiECNWBEZosHFb693q4m4XieAX0WZVZZU0g8SkxxDxjDN0mZptl08E9qrAKgvXPLtEzqawy90ts7NBaOQtmXHhgLBAz5QBl9DZ--pBgEtSaiZPiyrvuZY1CZP-07lQJWm3LJOFkuDpVypK9OWS_IyNUJkRFdfkRAwOQTnsgY_N4Idxwrkx3AgKxEA2GWl442DLYTkX4kM5do_1qcs6wv3c8aqNLnhYZAWMA, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 15:49:10
2024-10-21 07:50:57,323 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:50:57,324 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 07:50:57,385 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 07:50:57,396 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0cad5c4d-c558-47d8-ac19-bf9350c2fe13', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:50:57,401 - /app/inference.py - utils - INFO - message_data:{'task_id': '0cad5c4d-c558-47d8-ac19-bf9350c2fe13', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 07:50:57,401 - /app/inference.py - utils - INFO - Processing message for task_id: 0cad5c4d-c558-47d8-ac19-bf9350c2fe13, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 07:50:58,837 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 07:50:58,839 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0cad5c4d-c558-47d8-ac19-bf9350c2fe13
2024-10-21 07:50:58,840 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:50:58,845 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 07:50:58,888 - /app/utils.py - utils - INFO - Store history success
2024-10-21 07:51:30,809 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 07:51:38,868 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 16:29:27,887 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 16:29:27,971 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 16:29:27.950846
2024-10-21 16:29:28,014 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjE0NTY3fQ.AjBzojevM4FrJ2SMCo0lhazrSB9XoDyJu5iE9t3DVNL4iwOJR5PBlKMGC1p-M0n6MZr89hviUY9bDl51uSHiyKgg1oyiXxrAnWtj433RJgu2RRf5yBYtS-uJtsrn2G2kWhESm4fBfV2rnWjCBaUOZi1whdT4eCUv1Zmb4enuoY_Ki36Ca7UHJ1w9pIOjeHYg0HXbYtwllApzamrjNCIlVKPHj5jTMmYwlka8K3pd197O4xeVW62jCcXGgeCf_N1MqcjJdcra2RIctnx6ZtPsHI5IvBh-QSDQArfSV_GGmHCd8ib3hUbExBvuN4Z8yvJkiwp72NPKd6O0uwUDGj-YwQ, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 16:29:27
2024-10-21 08:29:41,314 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 08:29:41,315 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 08:29:41,369 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 08:29:41,379 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '8b1ccaf0-a143-4da7-b8ee-484e5c4adecd', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 08:29:41,382 - /app/inference.py - utils - INFO - message_data:{'task_id': '8b1ccaf0-a143-4da7-b8ee-484e5c4adecd', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 08:29:41,382 - /app/inference.py - utils - INFO - Processing message for task_id: 8b1ccaf0-a143-4da7-b8ee-484e5c4adecd, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 08:29:42,772 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 08:29:42,775 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 8b1ccaf0-a143-4da7-b8ee-484e5c4adecd
2024-10-21 08:29:42,776 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 08:29:42,780 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 08:29:42,823 - /app/utils.py - utils - INFO - Store history success
2024-10-21 14:18:30,231 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:18:30,232 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:18:30,302 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:18:30,314 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '982c16ac-3185-4e9a-8ed2-c41cfbfe0054', 'image_path': 'http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T141830Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=83529461ef8490932bd72c4f4d8e5cfd8c1cdb9ae2c7898c3540b0286e749fd2', 'openid': 'test2'}
2024-10-21 14:18:30,316 - /app/inference.py - utils - INFO - message_data:{'task_id': '982c16ac-3185-4e9a-8ed2-c41cfbfe0054', 'image_path': 'http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T141830Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=83529461ef8490932bd72c4f4d8e5cfd8c1cdb9ae2c7898c3540b0286e749fd2', 'openid': 'test2'}
2024-10-21 14:18:30,317 - /app/inference.py - utils - INFO - Processing message for task_id: 982c16ac-3185-4e9a-8ed2-c41cfbfe0054, image_path: http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T141830Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=83529461ef8490932bd72c4f4d8e5cfd8c1cdb9ae2c7898c3540b0286e749fd2
2024-10-21 14:18:30,323 - /app/inference.py - utils - ERROR - Error fetching image from MinIO: S3 operation failed; code: XMinioInvalidObjectName, message: Object name contains unsupported characters., resource: /photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T141830Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=83529461ef8490932bd72c4f4d8e5cfd8c1cdb9ae2c7898c3540b0286e749fd2, request_id: 18007D8F109FC227, host_id: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8, bucket_name: photos, object_name: 100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T141830Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=83529461ef8490932bd72c4f4d8e5cfd8c1cdb9ae2c7898c3540b0286e749fd2
2024-10-21 14:19:36,344 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:19:36,352 - /app/poll.py - utils - ERROR - No result for task_id: 982c16ac-3185-4e9a-8ed2-c41cfbfe0054, and error: 404: No result for the task_id
2024-10-21 14:20:11,683 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:20:11,684 - /app/poll.py - utils - ERROR - No result for task_id: 982c16ac-3185-4e9a-8ed2-c41cfbfe0054, and error: 404: No result for the task_id
2024-10-21 22:20:37,504 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 22:20:37,614 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 22:20:37.584159
2024-10-21 22:20:37,654 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjM1NjM3fQ.Fr5sxrjSSt-PIrJYnlMEXQnelXd2kMX1xbvriUNp0hWRwe1heLCno6J0miire6-akhi_qlJmlO46flh6ULDLKNYVuFWHP-xak4jTE5AzUPOj5X83xK0BHZeB-qH8tEluJm_bcFyXa715mnlaA8frU7MWzn3YX2qL8BPGbPDC1K9hS9fWsJQwecssxoj6lOpYTJVyva3nsjLoJ7VZ1CUCWnj3sBbIf3rU-FMC2EgbF6x6W2877yyhGKR1_NJsHRBCfS1vEaJeKaS2SCUNB2m4y2Jmo2TOK2YLr9LC4_dcyBHC0Ks2OieIgn3aoGdRgAmXhXH83WdczTlEuL_I8aSaTA, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 22:20:37
2024-10-21 14:20:53,880 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:20:53,881 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:20:53,928 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:20:53,931 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '409324d8-41e3-44c7-b5a0-2bffbdc9d48c', 'image_path': 'http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142053Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b1a80db954592403e0f8c3f6352eb45a239650cc2d075d4417d9cd7e1fcdf0ec', 'openid': 'test2'}
2024-10-21 14:20:53,933 - /app/inference.py - utils - INFO - message_data:{'task_id': '409324d8-41e3-44c7-b5a0-2bffbdc9d48c', 'image_path': 'http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142053Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b1a80db954592403e0f8c3f6352eb45a239650cc2d075d4417d9cd7e1fcdf0ec', 'openid': 'test2'}
2024-10-21 14:20:53,933 - /app/inference.py - utils - INFO - Processing message for task_id: 409324d8-41e3-44c7-b5a0-2bffbdc9d48c, image_path: http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142053Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b1a80db954592403e0f8c3f6352eb45a239650cc2d075d4417d9cd7e1fcdf0ec
2024-10-21 14:20:53,937 - /app/inference.py - utils - ERROR - Error fetching image from MinIO: S3 operation failed; code: XMinioInvalidObjectName, message: Object name contains unsupported characters., resource: /photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142053Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b1a80db954592403e0f8c3f6352eb45a239650cc2d075d4417d9cd7e1fcdf0ec, request_id: 18007DB080AA0094, host_id: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8, bucket_name: photos, object_name: 100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142053Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b1a80db954592403e0f8c3f6352eb45a239650cc2d075d4417d9cd7e1fcdf0ec
2024-10-21 14:21:18,739 - /app/utils.py - utils - INFO - JWT decode failed: Invalid header string: 'utf-8' codec can't decode byte 0x88 in position 6: invalid start byte
2024-10-21 14:22:01,424 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:22:01,425 - /app/poll.py - utils - ERROR - No result for task_id: 409324d8-41e3-44c7-b5a0-2bffbdc9d48c, and error: 404: No result for the task_id
2024-10-21 14:22:34,941 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:22:34,942 - /app/poll.py - utils - ERROR - No result for task_id: 409324d8-41e3-44c7-b5a0-2bffbdc9d48c, and error: 404: No result for the task_id
2024-10-21 14:24:43,088 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:24:43,089 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:24:43,151 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:24:43,152 - /app/upload.py - utils - INFO - presigned_url:http://foodminio:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T142443Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=86c4a1cfd1bbfcaf917f55cafc132e8c3d543a87cd121b896c964eef9a1fb55a
2024-10-21 14:24:43,161 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0c152412-36ca-42a7-8e06-c132c855860d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 14:24:43,163 - /app/inference.py - utils - INFO - message_data:{'task_id': '0c152412-36ca-42a7-8e06-c132c855860d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 14:24:43,164 - /app/inference.py - utils - INFO - Processing message for task_id: 0c152412-36ca-42a7-8e06-c132c855860d, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 14:24:44,543 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 14:24:44,546 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0c152412-36ca-42a7-8e06-c132c855860d
2024-10-21 14:24:44,546 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 14:24:44,551 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 14:24:44,612 - /app/utils.py - utils - INFO - Store history success
2024-10-21 14:54:39,062 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:54:39,063 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:54:39,121 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:54:45,134 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc667e92580>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 14:57:10,952 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:57:10,953 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:57:11,012 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:57:17,026 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4b7fafb7f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 22:57:33,084 - /app/login.py - utils - INFO - Received code: 12345
2024-10-21 22:57:33,143 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-21 15:15:48.171337, updated_at: 2024-10-21 22:57:33.129660
2024-10-21 22:57:33,183 - /app/login.py - utils - INFO - permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5NjM3ODUzfQ.FxsJWbvaM7gRoCiDbSW3C9lix2Nw5VLnO7LaBC_gjv_EG-H5iEu2EDyCdRGXhSpZ69C2t1aAccrsrxydvGNUIOY_CXlaP1gMTxDU0Cx9DQ6cb9-nCv2OAejxoWgUs21cBWiuNRWwQwaZ-kEPTp50mDyg1UMj43W_AQmWxjS-dHhA8sYEbJA3OLWkXb9oQTZ9dv5ybcv3175t0aKvKhoqetvEzT7WhTzLU07JSSmdnFpzuyjmJCsyBr7bx670M-5DpO4TukbUQvxHHhlJ1zVldz-Pv4PPpoG3R3MAV4tkxa2ZcHBHOa1pcDvzb1ZnOdE_Dn39pxIP0oMHwNgE-URSjQ, created_at: 2024-10-21 15:15:48, updated_at: 2024-10-21 22:57:33
2024-10-21 14:57:53,357 - /app/utils.py - utils - INFO - JWT decode failed: Invalid payload padding
2024-10-21 14:58:47,903 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 14:58:47,904 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 14:58:47,976 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 14:58:53,993 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4b7fb38490>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 15:02:09,787 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:02:09,788 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:02:09,857 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:02:15,870 - /app/utils.py - utils - ERROR - Error while generating external url:HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6860027f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 15:02:15,871 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: local variable 'url' referenced before assignment
2024-10-21 15:07:06,155 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:07:06,157 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:07:06,238 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:07:12,257 - /app/utils.py - utils - ERROR - Error while generating external url:HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f11e249c7f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 15:07:12,258 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: local variable 'url' referenced before assignment
2024-10-21 15:07:28,392 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:07:28,393 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:07:28,457 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:07:34,469 - /app/utils.py - utils - ERROR - Error while generating external url:HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /photos?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f11e249c940>: Failed to establish a new connection: [Errno 111] Connection refused'))
2024-10-21 15:07:34,471 - /app/upload.py - utils - ERROR - Failed to send message to Kafka: local variable 'url' referenced before assignment
2024-10-21 15:10:26,565 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:10:26,566 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:10:26,648 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:13:17,833 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:13:17,834 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:13:17,897 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:13:17,906 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '02acd028-d34b-4e5a-9258-f55698e26099', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 15:13:17,909 - /app/inference.py - utils - INFO - message_data:{'task_id': '02acd028-d34b-4e5a-9258-f55698e26099', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 15:13:17,909 - /app/inference.py - utils - INFO - Processing message for task_id: 02acd028-d34b-4e5a-9258-f55698e26099, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 15:13:19,285 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 15:13:19,288 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 02acd028-d34b-4e5a-9258-f55698e26099
2024-10-21 15:13:19,289 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:13:19,293 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:13:19,397 - /app/utils.py - utils - INFO - Store history success
2024-10-21 15:20:33,791 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:20:33,792 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:20:33,857 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:20:33,858 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.92:9000
2024-10-21 15:22:05,715 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:22:05,716 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:22:05,769 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:22:05,769 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-21 15:22:05,842 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152205Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=d45bbc6def04ff93c71165f40a7546199c767490190a78bd42772a1c159e5c61
2024-10-21 15:22:05,858 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '9158e01f-b32d-47cd-9a8d-bc84f3b0014f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 15:22:05,861 - /app/inference.py - utils - INFO - message_data:{'task_id': '9158e01f-b32d-47cd-9a8d-bc84f3b0014f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2'}
2024-10-21 15:22:05,862 - /app/inference.py - utils - INFO - Processing message for task_id: 9158e01f-b32d-47cd-9a8d-bc84f3b0014f, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 15:22:07,189 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 15:22:07,191 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 9158e01f-b32d-47cd-9a8d-bc84f3b0014f
2024-10-21 15:22:07,192 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:22:07,197 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:22:07,279 - /app/utils.py - utils - INFO - Store history success
2024-10-21 15:27:39,899 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:27:39,900 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:27:39,946 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:27:39,946 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-21 15:27:40,012 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8
2024-10-21 15:27:40,041 - /app/inference.py - utils - INFO - message_data:{'task_id': 'be013bfe-79df-4df0-94d1-789b649626dd', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8'}
2024-10-21 15:27:40,041 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'be013bfe-79df-4df0-94d1-789b649626dd', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8'}
2024-10-21 15:27:40,042 - /app/inference.py - utils - INFO - Processing message for task_id: be013bfe-79df-4df0-94d1-789b649626dd, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 15:27:41,386 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 15:27:41,401 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: be013bfe-79df-4df0-94d1-789b649626dd
2024-10-21 15:27:41,401 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:27:41,406 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:27:41,708 - /app/utils.py - utils - ERROR - Store history failed: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.StringDataRightTruncationError'>: value too long for type character varying(255)
[SQL: INSERT INTO history (created_at, image_path, inference_result, weight_result, openid) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::VARCHAR) RETURNING history.id]
[parameters: (datetime.datetime(2024, 10, 21, 15, 27, 41, 699719), 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X- ... (3 characters truncated) ... -Date=20241021T152740Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3e66c1d109049a1413a9e342627d5e6d95296704d69c137157696b5049e961b8', 'sushi', 100.0, 'test2')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2024-10-21 15:38:54,693 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:38:54,694 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:38:54,736 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:38:54,737 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-21 15:38:54,813 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce
2024-10-21 15:38:54,831 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'fca3428c-58c0-41f1-9c7a-f2ffc7660c38', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce'}
2024-10-21 15:38:54,835 - /app/inference.py - utils - INFO - message_data:{'task_id': 'fca3428c-58c0-41f1-9c7a-f2ffc7660c38', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce'}
2024-10-21 15:38:54,845 - /app/inference.py - utils - INFO - Processing message for task_id: fca3428c-58c0-41f1-9c7a-f2ffc7660c38, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 15:38:56,277 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 15:38:56,280 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: fca3428c-58c0-41f1-9c7a-f2ffc7660c38
2024-10-21 15:38:56,280 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:38:56,285 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:38:56,341 - /app/utils.py - utils - ERROR - Store history failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "presigned_url" of relation "history" does not exist
[SQL: INSERT INTO history (created_at, image_path, inference_result, presigned_url, weight_result, openid) VALUES ($1::TIMESTAMP WITHOUT TIME ZONE, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::VARCHAR) RETURNING history.id]
[parameters: (datetime.datetime(2024, 10, 21, 15, 38, 56, 337386), 'http://minio:9000/photos/100332.jpg', 'sushi', 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X- ... (3 characters truncated) ... -Date=20241021T153854Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=ebe43432a422d6fadeba55a4a8ba8a7cc9b2740ae8aa162b8a99ccc94f8e94ce', 100.0, 'test2')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-21 15:42:55,669 - /app/utils.py - utils - INFO - JWT decode success
2024-10-21 15:42:55,670 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-21 15:42:55,719 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-21 15:42:55,719 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-21 15:42:55,795 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T154255Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a093db1e8b9696d0474bd91e9041a418c4c275668ac57d8b6f747cc61cd1137a
2024-10-21 15:42:55,813 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'c0e672aa-5e94-40df-a7c7-e086849fe593', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T154255Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a093db1e8b9696d0474bd91e9041a418c4c275668ac57d8b6f747cc61cd1137a'}
2024-10-21 15:42:55,817 - /app/inference.py - utils - INFO - message_data:{'task_id': 'c0e672aa-5e94-40df-a7c7-e086849fe593', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T154255Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a093db1e8b9696d0474bd91e9041a418c4c275668ac57d8b6f747cc61cd1137a'}
2024-10-21 15:42:55,818 - /app/inference.py - utils - INFO - Processing message for task_id: c0e672aa-5e94-40df-a7c7-e086849fe593, image_path: http://minio:9000/photos/100332.jpg
2024-10-21 15:42:57,183 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-21 15:42:57,185 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: c0e672aa-5e94-40df-a7c7-e086849fe593
2024-10-21 15:42:57,186 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T154255Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a093db1e8b9696d0474bd91e9041a418c4c275668ac57d8b6f747cc61cd1137a', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:42:57,190 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241021%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241021T154255Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a093db1e8b9696d0474bd91e9041a418c4c275668ac57d8b6f747cc61cd1137a', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-21 15:42:57,249 - /app/utils.py - utils - INFO - Store history success
2024-10-21 15:43:19,078 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 00:00:49,197 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:01:12,109 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:01:12,349 - /app/login.py - utils - INFO - Current user permission: None, created_at: None, updated_at: 2024-10-25 00:01:12.329162
2024-10-25 00:01:31,771 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:01:31,786 - /app/login.py - utils - INFO - Current user permission: None, created_at: None, updated_at: 2024-10-25 00:01:31.774287
2024-10-25 00:12:31,594 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:12:31,610 - /app/login.py - utils - INFO - Current user permission: USER, created_at: None, updated_at: 2024-10-25 00:12:31.598955
2024-10-25 00:16:01,560 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:16:01,651 - /app/login.py - utils - INFO - Current user permission: USER, created_at: None, updated_at: 2024-10-25 00:16:01.619817
2024-10-25 00:19:33,227 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 00:19:33,240 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-24 16:19:05.050251, updated_at: 2024-10-25 00:19:33.233079
2024-10-25 00:19:33,276 - /app/login.py - utils - INFO - openid: test2, permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5OTAxOTczfQ.kNtI5hIacGS0i9LqgK8gKD3rR199-ne_wh7AlIGZpG1vOvmLAIIYlMwoJvMi0m5rOqzrXN0CDwdHNo6rSf729KSKXJZaUdTKyWVSvDSMCe_nAD-ym7Vk_E4buq1VC-x211Hxx1Jhb4tv7u_aIOnX8AbwyJSH3bmTGfyHKFhQg1iIOlSfpyyccTlRDgyE1vrllAGxAOUx4En6zwFt3d3Dnxidt3eIh8mEpo2EmxAZWXo6-xHopLCB2s0-NCsk5Qv6rSajf1pHXP6j_kbZlWy0cyrq6aAuxhfTFwy_e0g4g4ZROBGMmwb0cqz0DQOlmcaVPRiWd4xV87UpTlYMTbBEYQ, created_at: 2024-10-24 16:19:05, updated_at: 2024-10-25 00:19:33
2024-10-24 16:19:48,476 - /app/utils.py - utils - ERROR - JWT token has expired
2024-10-24 16:20:11,779 - /app/utils.py - utils - INFO - JWT decode success
2024-10-24 16:20:11,780 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-24 16:20:11,836 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-24 16:20:11,836 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-24 16:20:11,905 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241024%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241024T162011Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=54919e2871aa0e4b01d7ba246d460263faf384f348a08c5a9b6e1ae74bc515cb
2024-10-24 16:20:11,925 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'c5f3fdfa-0f04-4c93-bad6-6ec52f30e951', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241024%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241024T162011Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=54919e2871aa0e4b01d7ba246d460263faf384f348a08c5a9b6e1ae74bc515cb'}
2024-10-24 16:20:11,934 - /app/inference.py - utils - INFO - message_data:{'task_id': 'c5f3fdfa-0f04-4c93-bad6-6ec52f30e951', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241024%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241024T162011Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=54919e2871aa0e4b01d7ba246d460263faf384f348a08c5a9b6e1ae74bc515cb'}
2024-10-24 16:20:11,935 - /app/inference.py - utils - INFO - Processing message for task_id: c5f3fdfa-0f04-4c93-bad6-6ec52f30e951, image_path: http://minio:9000/photos/100332.jpg
2024-10-24 16:20:13,468 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-24 16:20:13,471 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: c5f3fdfa-0f04-4c93-bad6-6ec52f30e951
2024-10-24 16:20:13,472 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241024%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241024T162011Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=54919e2871aa0e4b01d7ba246d460263faf384f348a08c5a9b6e1ae74bc515cb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-24 16:20:13,476 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241024%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241024T162011Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=54919e2871aa0e4b01d7ba246d460263faf384f348a08c5a9b6e1ae74bc515cb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-24 16:20:13,562 - /app/utils.py - utils - INFO - Store history success
2024-10-24 16:20:43,285 - /app/utils.py - utils - INFO - JWT decode success
2024-10-24 16:20:48,449 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 10:49:55,091 - /app/login.py - utils - INFO - Received code: 12345
2024-10-25 10:49:55,485 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-24 16:19:05.050251, updated_at: 2024-10-25 10:49:55.416943
2024-10-25 10:49:55,544 - /app/login.py - utils - INFO - openid: test2, permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzI5OTM5Nzk1fQ.E505UeYfcxlt-A-1Qdcw3LLZO9h09idwlj310CsJm_9TaVvbbzl1NlHDYMlnjtJe2mcDogH3pIl_ARoO7qHyIJDGoqYUvLcnO-hcBerKvbOL7JV8uWbp8dJgF6dQHAkX0fjbuffkQJhjsIzpZQe3a7g-t2s7e_Ah6Dml7FEIAOjfAT70Hk6pivxryzslmio9N5RlZzorHmFW9Nisrcag1ZITTQv9CAlarDp2nfSMl_HwUYZv8rQo-dnHiNPULeuKb-bI__mIFSDojWyztvaIPqSqHoPiMce_9W6ZWLoNlM9VC6wnmm8a6QG5zHLCwNEnJ5LQn-7tp7yzuGibWNB9Bw, created_at: 2024-10-24 16:19:05, updated_at: 2024-10-25 10:49:55
2024-10-25 02:54:15,643 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 02:54:15,645 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-25 02:54:15,746 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-25 02:54:15,748 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-25 02:54:15,817 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T025415Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=82403ab00de47f6e7f8ba93a38b0c7583d387fd023c0c78eb40ff98398b1c496
2024-10-25 02:54:15,913 - /app/upload.py - utils - INFO - Update head_url success for user: test2
2024-10-25 02:57:03,873 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 02:57:03,901 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-25 03:04:24,747 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:04:24,841 - /app/upload.py - utils - INFO - Update phone number success for user: test2
2024-10-25 03:04:36,018 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:04:36,044 - /app/upload.py - utils - INFO - Update email success for user: test2
2024-10-25 03:05:49,387 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:05:49,388 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-25 03:05:49,482 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-25 03:05:49,483 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-25 03:05:49,567 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T030549Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c53fe28a84675951e50f9d4aa2de77ee011d800264d010e3b7024e8287df9307
2024-10-25 03:05:49,586 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '7dce4ea7-df6e-424c-8b21-836c657f5952', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T030549Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c53fe28a84675951e50f9d4aa2de77ee011d800264d010e3b7024e8287df9307'}
2024-10-25 03:05:49,595 - /app/inference.py - utils - INFO - message_data:{'task_id': '7dce4ea7-df6e-424c-8b21-836c657f5952', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T030549Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c53fe28a84675951e50f9d4aa2de77ee011d800264d010e3b7024e8287df9307'}
2024-10-25 03:05:49,596 - /app/inference.py - utils - INFO - Processing message for task_id: 7dce4ea7-df6e-424c-8b21-836c657f5952, image_path: http://minio:9000/photos/100332.jpg
2024-10-25 03:05:51,036 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-25 03:05:51,038 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 7dce4ea7-df6e-424c-8b21-836c657f5952
2024-10-25 03:05:51,039 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T030549Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c53fe28a84675951e50f9d4aa2de77ee011d800264d010e3b7024e8287df9307', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-25 03:05:51,041 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241025T030549Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c53fe28a84675951e50f9d4aa2de77ee011d800264d010e3b7024e8287df9307', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2'}
2024-10-25 03:05:51,195 - /app/utils.py - utils - INFO - Store history success
2024-10-25 03:05:54,622 - /app/utils.py - utils - INFO - JWT decode failed: Signature verification failed.
2024-10-25 03:06:47,491 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:06:52,871 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:54:47,797 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:54:47,928 - /app/upload.py - utils - INFO - Update gold_coin success for user: test2
2024-10-25 03:54:58,848 - /app/utils.py - utils - INFO - JWT decode success
2024-10-25 03:54:58,862 - /app/upload.py - utils - INFO - Update experience success for user: test2
2024-10-26 18:54:20,223 - /app/login.py - utils - INFO - Received code: 12345
2024-10-26 18:54:20,365 - /app/login.py - utils - INFO - Current user permission: USER, created_at: 2024-10-24 16:19:05.050251, updated_at: 2024-10-26 18:54:20.340113
2024-10-26 18:54:20,403 - /app/login.py - utils - INFO - openid: test2, permission: USER, token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcGVuaWQiOiJ0ZXN0MiIsInBlcm1pc3Npb24iOiJVU0VSIiwiZXhwIjoxNzMwMDU1MjYwfQ.FZAZ2KqXjf5Q1vjhHvJoL5jzTAXtUk1WbUO2lDhz5-n4dHvRJ0nBqOXRFiu7UivZHK7DyWzrZvZjVTj3cva7nkvVM0o6TrPs8hcPor_vDo3mqLTPWNGwBF7tJP0oz5J3_S44WA5rQhXDOQwIDrRboyV1dN7ttxBn_gz2oVyzdWR7AWJzmUeje8fOcd73kYKIhN8fnsW6tomGnPvvCcMatThzqQNAywqS0zVCtQxq_KJkPWJeZj3z9zCz_tJ6yYzwm96q2oCuFzUp_Tywpf5Y09aDA-k0h4TVLrXrML7FjgoNxWfhFUE14aKPK0n0APAH9Vdhjs0Q4_FMbW3VUTOUWw, created_at: 2024-10-24 16:19:05, updated_at: 2024-10-26 18:54:20
2024-10-26 10:55:11,379 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 10:55:11,381 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 10:55:11,458 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 10:55:11,458 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 10:55:11,747 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T105511Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=3159461e4ce53631c4fec588e95df65dc96283e532c8c635a8888111f12cef57
2024-10-26 10:55:11,831 - /app/upload.py - utils - INFO - Update head_url success for user: test2
2024-10-26 10:57:22,659 - /app/utils.py - utils - ERROR - JWT token has expired
2024-10-26 10:57:42,332 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 10:57:42,358 - /app/upload.py - utils - ERROR - Name: new_costumer exists.
2024-10-26 10:57:42,359 - /app/upload.py - utils - ERROR - Update name failed: 400: Name already in use
2024-10-26 10:57:56,313 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 10:57:56,333 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-26 11:03:04,010 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:03:04,240 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-26 11:03:04,249 - /app/upload.py - utils - ERROR - Phone_number: 12345667899 exists.
2024-10-26 11:03:04,250 - /app/upload.py - utils - ERROR - Update phone number failed: 400: Phone number already in use
2024-10-26 11:24:40,156 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:24:40,310 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-26 11:24:51,091 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:25:20,034 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:25:20,050 - /app/upload.py - utils - INFO - Update gold_coin success for user: test2
2024-10-26 11:25:29,099 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:25:29,106 - /app/upload.py - utils - INFO - Update experience success for user: test2
2024-10-26 11:26:31,342 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 11:26:31,343 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 11:26:31,399 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 11:26:31,400 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 11:26:31,494 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T112631Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8129aea5a403623ef7e6bcc471ecb14ebf3e3a20299d64cc22926f87dfb48407
2024-10-26 11:26:31,501 - /app/upload.py - utils - INFO - Update head_url success for user: test2
2024-10-26 12:02:17,469 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:04:32,585 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:06:27,810 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:06:27,942 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-26 12:06:34,627 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:06:34,642 - /app/upload.py - utils - INFO - Update name success for user: test2
2024-10-26 12:07:22,628 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:07:29,860 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:57:05,075 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 12:57:05,085 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 12:57:05,286 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 12:57:05,287 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 12:57:05,582 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T125705Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a9f35c5abf099390377a2bf2d60abc548ddb993a8eb587d87fb318e9f79a4177
2024-10-26 12:57:05,895 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'aac3561e-637d-4c9d-833e-ccc04c88e26a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T125705Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a9f35c5abf099390377a2bf2d60abc548ddb993a8eb587d87fb318e9f79a4177'}
2024-10-26 12:57:05,925 - /app/inference.py - utils - INFO - message_data:{'task_id': 'aac3561e-637d-4c9d-833e-ccc04c88e26a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T125705Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a9f35c5abf099390377a2bf2d60abc548ddb993a8eb587d87fb318e9f79a4177'}
2024-10-26 12:57:05,928 - /app/inference.py - utils - INFO - Processing message for task_id: aac3561e-637d-4c9d-833e-ccc04c88e26a, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 12:57:08,889 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 12:57:08,910 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: aac3561e-637d-4c9d-833e-ccc04c88e26a
2024-10-26 12:57:08,910 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T125705Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a9f35c5abf099390377a2bf2d60abc548ddb993a8eb587d87fb318e9f79a4177', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'aac3561e-637d-4c9d-833e-ccc04c88e26a'}
2024-10-26 12:57:08,920 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T125705Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=a9f35c5abf099390377a2bf2d60abc548ddb993a8eb587d87fb318e9f79a4177', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'aac3561e-637d-4c9d-833e-ccc04c88e26a'}
2024-10-26 12:57:08,923 - /app/store.py - utils - ERROR - Error in consume_messages: 'ConsumerRecord' object is not subscriptable
2024-10-26 13:02:58,535 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 13:02:58,536 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 13:02:58,606 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 13:02:58,606 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 13:02:58,709 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130258Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0636ccdaafe160538544a42abf1ee25b19fef542152892591127dec97ca1b241
2024-10-26 13:02:58,722 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '247f3bee-707b-41af-92f7-6a072fbb658d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130258Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0636ccdaafe160538544a42abf1ee25b19fef542152892591127dec97ca1b241'}
2024-10-26 13:02:58,725 - /app/inference.py - utils - INFO - message_data:{'task_id': '247f3bee-707b-41af-92f7-6a072fbb658d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130258Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0636ccdaafe160538544a42abf1ee25b19fef542152892591127dec97ca1b241'}
2024-10-26 13:02:58,727 - /app/inference.py - utils - INFO - Processing message for task_id: 247f3bee-707b-41af-92f7-6a072fbb658d, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 13:03:00,157 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 13:03:00,159 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 247f3bee-707b-41af-92f7-6a072fbb658d
2024-10-26 13:03:00,160 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130258Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0636ccdaafe160538544a42abf1ee25b19fef542152892591127dec97ca1b241', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '247f3bee-707b-41af-92f7-6a072fbb658d'}
2024-10-26 13:03:00,165 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130258Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0636ccdaafe160538544a42abf1ee25b19fef542152892591127dec97ca1b241', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '247f3bee-707b-41af-92f7-6a072fbb658d'}
2024-10-26 13:03:00,166 - /app/store.py - utils - ERROR - Error in consume_messages: process_message() takes 5 positional arguments but 6 were given
2024-10-26 13:04:20,669 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 13:04:20,671 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 13:04:20,724 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 13:04:20,724 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 13:04:20,814 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130420Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b3fb72f22cb11d27559f84054bb24b38a5a8807e25e833a17c907e800f614d9b
2024-10-26 13:04:20,833 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '0be63d65-ca5a-4d55-a3de-fffdad43d7c6', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130420Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b3fb72f22cb11d27559f84054bb24b38a5a8807e25e833a17c907e800f614d9b'}
2024-10-26 13:04:20,835 - /app/inference.py - utils - INFO - message_data:{'task_id': '0be63d65-ca5a-4d55-a3de-fffdad43d7c6', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130420Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b3fb72f22cb11d27559f84054bb24b38a5a8807e25e833a17c907e800f614d9b'}
2024-10-26 13:04:20,837 - /app/inference.py - utils - INFO - Processing message for task_id: 0be63d65-ca5a-4d55-a3de-fffdad43d7c6, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 13:04:22,218 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 13:04:22,220 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 0be63d65-ca5a-4d55-a3de-fffdad43d7c6
2024-10-26 13:04:22,221 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130420Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b3fb72f22cb11d27559f84054bb24b38a5a8807e25e833a17c907e800f614d9b', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '0be63d65-ca5a-4d55-a3de-fffdad43d7c6'}
2024-10-26 13:04:22,225 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130420Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=b3fb72f22cb11d27559f84054bb24b38a5a8807e25e833a17c907e800f614d9b', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '0be63d65-ca5a-4d55-a3de-fffdad43d7c6'}
2024-10-26 13:04:22,330 - /app/utils.py - utils - INFO - Store history success
2024-10-26 13:08:14,608 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 13:08:14,610 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 13:08:14,687 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 13:08:14,688 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 13:08:14,769 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130814Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=52d54db004b7d3ec3f15a4391d1f5e1d3c4f662ecfac960ecdb4f4befdfa2567
2024-10-26 13:08:14,792 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'af79b50c-4895-4e79-a4fd-eda398788c2d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130814Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=52d54db004b7d3ec3f15a4391d1f5e1d3c4f662ecfac960ecdb4f4befdfa2567'}
2024-10-26 13:08:14,796 - /app/inference.py - utils - INFO - message_data:{'task_id': 'af79b50c-4895-4e79-a4fd-eda398788c2d', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130814Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=52d54db004b7d3ec3f15a4391d1f5e1d3c4f662ecfac960ecdb4f4befdfa2567'}
2024-10-26 13:08:14,797 - /app/inference.py - utils - INFO - Processing message for task_id: af79b50c-4895-4e79-a4fd-eda398788c2d, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 13:08:16,182 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 13:08:16,184 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: af79b50c-4895-4e79-a4fd-eda398788c2d
2024-10-26 13:08:16,193 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130814Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=52d54db004b7d3ec3f15a4391d1f5e1d3c4f662ecfac960ecdb4f4befdfa2567', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'af79b50c-4895-4e79-a4fd-eda398788c2d'}
2024-10-26 13:08:16,198 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T130814Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=52d54db004b7d3ec3f15a4391d1f5e1d3c4f662ecfac960ecdb4f4befdfa2567', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'af79b50c-4895-4e79-a4fd-eda398788c2d'}
2024-10-26 13:08:16,286 - /app/utils.py - utils - INFO - Store history success
2024-10-26 13:08:32,834 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 13:55:25,431 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 13:55:25,432 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 13:55:25,498 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 13:55:25,498 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 13:55:25,596 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T135525Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8a762f1e1796b4a3044747f428ffc2df615065c3748ffabd74c16babc1e97a85
2024-10-26 13:55:25,623 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '21c89ab7-8092-4a06-958c-91200f803889', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T135525Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8a762f1e1796b4a3044747f428ffc2df615065c3748ffabd74c16babc1e97a85'}
2024-10-26 13:55:25,627 - /app/inference.py - utils - INFO - message_data:{'task_id': '21c89ab7-8092-4a06-958c-91200f803889', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T135525Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8a762f1e1796b4a3044747f428ffc2df615065c3748ffabd74c16babc1e97a85'}
2024-10-26 13:55:25,627 - /app/inference.py - utils - INFO - Processing message for task_id: 21c89ab7-8092-4a06-958c-91200f803889, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 13:55:27,085 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 13:55:27,095 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 21c89ab7-8092-4a06-958c-91200f803889
2024-10-26 13:55:27,095 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T135525Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8a762f1e1796b4a3044747f428ffc2df615065c3748ffabd74c16babc1e97a85', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '21c89ab7-8092-4a06-958c-91200f803889'}
2024-10-26 13:55:27,100 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T135525Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=8a762f1e1796b4a3044747f428ffc2df615065c3748ffabd74c16babc1e97a85', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '21c89ab7-8092-4a06-958c-91200f803889'}
2024-10-26 13:55:27,191 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:14:21,910 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:16:19,102 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:16:23,614 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:20:32,628 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:20:47,536 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:20:47,538 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:20:47,595 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:20:47,595 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:20:47,692 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142047Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2d92fbcd3674c48cbedb8aa2f4149730fe44875e03c66bf4ffbd2b9c15b9536c
2024-10-26 14:20:47,714 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142047Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2d92fbcd3674c48cbedb8aa2f4149730fe44875e03c66bf4ffbd2b9c15b9536c'}
2024-10-26 14:20:47,723 - /app/inference.py - utils - INFO - message_data:{'task_id': '3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142047Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2d92fbcd3674c48cbedb8aa2f4149730fe44875e03c66bf4ffbd2b9c15b9536c'}
2024-10-26 14:20:47,724 - /app/inference.py - utils - INFO - Processing message for task_id: 3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:20:49,230 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:20:49,233 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc
2024-10-26 14:20:49,234 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142047Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2d92fbcd3674c48cbedb8aa2f4149730fe44875e03c66bf4ffbd2b9c15b9536c', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc'}
2024-10-26 14:20:49,237 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142047Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2d92fbcd3674c48cbedb8aa2f4149730fe44875e03c66bf4ffbd2b9c15b9536c', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc'}
2024-10-26 14:20:49,363 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:21:02,450 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:21:02,452 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:21:02,452 - /app/modify.py - utils - INFO - New cache_result stored in Redis for task_id: 3d1b2419-698e-4aca-b5ee-e33d5d6fd4bc
2024-10-26 14:24:11,431 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:24:32,183 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:24:54,921 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:24:54,922 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:24:54,968 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:24:54,969 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:24:54,969 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142454Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f9288acd3d4fa4a2d4c118007a8ab2081c6c442732ab5adcb1fe70c5704a9ebb
2024-10-26 14:24:54,972 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '2731c7c7-6fa2-4eea-aa71-811777195fb4', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142454Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f9288acd3d4fa4a2d4c118007a8ab2081c6c442732ab5adcb1fe70c5704a9ebb'}
2024-10-26 14:24:54,972 - /app/inference.py - utils - INFO - message_data:{'task_id': '2731c7c7-6fa2-4eea-aa71-811777195fb4', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142454Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f9288acd3d4fa4a2d4c118007a8ab2081c6c442732ab5adcb1fe70c5704a9ebb'}
2024-10-26 14:24:54,979 - /app/inference.py - utils - INFO - Processing message for task_id: 2731c7c7-6fa2-4eea-aa71-811777195fb4, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:24:55,116 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:24:55,117 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 2731c7c7-6fa2-4eea-aa71-811777195fb4
2024-10-26 14:24:55,117 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142454Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f9288acd3d4fa4a2d4c118007a8ab2081c6c442732ab5adcb1fe70c5704a9ebb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '2731c7c7-6fa2-4eea-aa71-811777195fb4'}
2024-10-26 14:24:55,119 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142454Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f9288acd3d4fa4a2d4c118007a8ab2081c6c442732ab5adcb1fe70c5704a9ebb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '2731c7c7-6fa2-4eea-aa71-811777195fb4'}
2024-10-26 14:24:55,126 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:25:07,455 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:25:07,457 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:25:07,457 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 2731c7c7-6fa2-4eea-aa71-811777195fb4
2024-10-26 14:27:57,556 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:27:57,557 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:27:57,641 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:27:57,641 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:27:57,642 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142757Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0ee9b39480b4bafb98316a9f3221932d86823ce727b779355b720c7225d4b682
2024-10-26 14:27:57,645 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': 'cff43e18-aacc-445e-8f07-d4eda9b4755a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142757Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0ee9b39480b4bafb98316a9f3221932d86823ce727b779355b720c7225d4b682'}
2024-10-26 14:27:57,647 - /app/inference.py - utils - INFO - message_data:{'task_id': 'cff43e18-aacc-445e-8f07-d4eda9b4755a', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142757Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0ee9b39480b4bafb98316a9f3221932d86823ce727b779355b720c7225d4b682'}
2024-10-26 14:27:57,647 - /app/inference.py - utils - INFO - Processing message for task_id: cff43e18-aacc-445e-8f07-d4eda9b4755a, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:27:57,777 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:27:57,778 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: cff43e18-aacc-445e-8f07-d4eda9b4755a
2024-10-26 14:27:57,778 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142757Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0ee9b39480b4bafb98316a9f3221932d86823ce727b779355b720c7225d4b682', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'cff43e18-aacc-445e-8f07-d4eda9b4755a'}
2024-10-26 14:27:57,780 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T142757Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=0ee9b39480b4bafb98316a9f3221932d86823ce727b779355b720c7225d4b682', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': 'cff43e18-aacc-445e-8f07-d4eda9b4755a'}
2024-10-26 14:27:57,787 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:29:46,447 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:29:46,449 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:29:46,450 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: cff43e18-aacc-445e-8f07-d4eda9b4755a
2024-10-26 14:33:13,576 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:33:13,577 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:33:13,678 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:33:13,679 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:33:13,680 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143313Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2acfbbcc6ceda72c527e72e4a931370b2aad667e7f296aba7d4fbf1c7f4a85e5
2024-10-26 14:33:13,684 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143313Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2acfbbcc6ceda72c527e72e4a931370b2aad667e7f296aba7d4fbf1c7f4a85e5'}
2024-10-26 14:33:13,685 - /app/inference.py - utils - INFO - message_data:{'task_id': '7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143313Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2acfbbcc6ceda72c527e72e4a931370b2aad667e7f296aba7d4fbf1c7f4a85e5'}
2024-10-26 14:33:13,685 - /app/inference.py - utils - INFO - Processing message for task_id: 7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:33:13,825 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:33:13,826 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f
2024-10-26 14:33:13,827 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143313Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2acfbbcc6ceda72c527e72e4a931370b2aad667e7f296aba7d4fbf1c7f4a85e5', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f'}
2024-10-26 14:33:13,829 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143313Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=2acfbbcc6ceda72c527e72e4a931370b2aad667e7f296aba7d4fbf1c7f4a85e5', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f'}
2024-10-26 14:33:13,846 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:36:22,868 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:36:22,869 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:36:22,930 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:36:22,931 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:36:22,931 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143622Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f14819477a4e1fe80c815b1f99cb2bb678644e3269a09c3a340e5709c13bf36a
2024-10-26 14:36:22,934 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '9e9aba26-0009-417f-b116-55fadab36838', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143622Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f14819477a4e1fe80c815b1f99cb2bb678644e3269a09c3a340e5709c13bf36a'}
2024-10-26 14:36:22,935 - /app/inference.py - utils - INFO - message_data:{'task_id': '9e9aba26-0009-417f-b116-55fadab36838', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143622Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f14819477a4e1fe80c815b1f99cb2bb678644e3269a09c3a340e5709c13bf36a'}
2024-10-26 14:36:22,935 - /app/inference.py - utils - INFO - Processing message for task_id: 9e9aba26-0009-417f-b116-55fadab36838, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:36:23,073 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:36:23,075 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 9e9aba26-0009-417f-b116-55fadab36838
2024-10-26 14:36:23,075 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143622Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f14819477a4e1fe80c815b1f99cb2bb678644e3269a09c3a340e5709c13bf36a', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '9e9aba26-0009-417f-b116-55fadab36838'}
2024-10-26 14:36:23,077 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T143622Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f14819477a4e1fe80c815b1f99cb2bb678644e3269a09c3a340e5709c13bf36a', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '9e9aba26-0009-417f-b116-55fadab36838'}
2024-10-26 14:36:23,084 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:37:53,175 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:37:53,178 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:37:53,179 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 9e9aba26-0009-417f-b116-55fadab36838
2024-10-26 14:38:20,239 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:38:20,240 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:38:20,241 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 7e1469c3-4afa-4e8f-ad80-7c8bdf71f84f
2024-10-26 14:56:41,047 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:56:41,048 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 14:56:41,130 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 14:56:41,131 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 14:56:41,131 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T145641Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=911e0cee29cc4aab74d91471c9e1ba8a07973cb0211dc151a292f65b7dd77081
2024-10-26 14:56:41,134 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '342581ed-db10-4d6e-b09f-108db28a34b0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T145641Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=911e0cee29cc4aab74d91471c9e1ba8a07973cb0211dc151a292f65b7dd77081'}
2024-10-26 14:56:41,134 - /app/inference.py - utils - INFO - message_data:{'task_id': '342581ed-db10-4d6e-b09f-108db28a34b0', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T145641Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=911e0cee29cc4aab74d91471c9e1ba8a07973cb0211dc151a292f65b7dd77081'}
2024-10-26 14:56:41,135 - /app/inference.py - utils - INFO - Processing message for task_id: 342581ed-db10-4d6e-b09f-108db28a34b0, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 14:56:41,264 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 14:56:41,265 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 342581ed-db10-4d6e-b09f-108db28a34b0
2024-10-26 14:56:41,266 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T145641Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=911e0cee29cc4aab74d91471c9e1ba8a07973cb0211dc151a292f65b7dd77081', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '342581ed-db10-4d6e-b09f-108db28a34b0'}
2024-10-26 14:56:41,268 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T145641Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=911e0cee29cc4aab74d91471c9e1ba8a07973cb0211dc151a292f65b7dd77081', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '342581ed-db10-4d6e-b09f-108db28a34b0'}
2024-10-26 14:56:41,275 - /app/utils.py - utils - INFO - Store history success
2024-10-26 14:56:59,475 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 14:56:59,478 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 14:56:59,479 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 342581ed-db10-4d6e-b09f-108db28a34b0
2024-10-26 14:57:59,488 - /app/modify.py - utils - INFO - Processing the task: 342581ed-db10-4d6e-b09f-108db28a34b0
2024-10-26 14:57:59,491 - /app/modify.py - utils - INFO - No data found in Redis for task_id: 342581ed-db10-4d6e-b09f-108db28a34b0
2024-10-26 15:03:54,508 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:03:54,509 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:03:54,606 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:03:54,607 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:03:54,608 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150354Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=05ed204db629e1be9d28fc149b2ea3d6b007e11248a400f96810046b5af9c312
2024-10-26 15:03:54,611 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '24fee37d-068e-4405-b66c-856e68befa00', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150354Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=05ed204db629e1be9d28fc149b2ea3d6b007e11248a400f96810046b5af9c312'}
2024-10-26 15:03:54,616 - /app/inference.py - utils - INFO - message_data:{'task_id': '24fee37d-068e-4405-b66c-856e68befa00', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150354Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=05ed204db629e1be9d28fc149b2ea3d6b007e11248a400f96810046b5af9c312'}
2024-10-26 15:03:54,617 - /app/inference.py - utils - INFO - Processing message for task_id: 24fee37d-068e-4405-b66c-856e68befa00, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:03:54,751 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:03:54,752 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 24fee37d-068e-4405-b66c-856e68befa00
2024-10-26 15:03:54,753 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150354Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=05ed204db629e1be9d28fc149b2ea3d6b007e11248a400f96810046b5af9c312', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '24fee37d-068e-4405-b66c-856e68befa00'}
2024-10-26 15:03:54,755 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150354Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=05ed204db629e1be9d28fc149b2ea3d6b007e11248a400f96810046b5af9c312', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '24fee37d-068e-4405-b66c-856e68befa00'}
2024-10-26 15:03:54,763 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:04:12,505 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:04:12,507 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:04:12,507 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 24fee37d-068e-4405-b66c-856e68befa00
2024-10-26 15:04:47,932 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:04:47,933 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:04:48,000 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:04:48,000 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:04:48,001 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150448Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=029263009107e4f910825b3bcd6cdd1bd192a420fb1c23328ec62fa82c945ed9
2024-10-26 15:04:48,004 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '5bc286e1-6025-4450-8612-e4a8fe97140f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150448Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=029263009107e4f910825b3bcd6cdd1bd192a420fb1c23328ec62fa82c945ed9'}
2024-10-26 15:04:48,004 - /app/inference.py - utils - INFO - message_data:{'task_id': '5bc286e1-6025-4450-8612-e4a8fe97140f', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150448Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=029263009107e4f910825b3bcd6cdd1bd192a420fb1c23328ec62fa82c945ed9'}
2024-10-26 15:04:48,005 - /app/inference.py - utils - INFO - Processing message for task_id: 5bc286e1-6025-4450-8612-e4a8fe97140f, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:04:48,136 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:04:48,137 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 5bc286e1-6025-4450-8612-e4a8fe97140f
2024-10-26 15:04:48,138 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150448Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=029263009107e4f910825b3bcd6cdd1bd192a420fb1c23328ec62fa82c945ed9', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '5bc286e1-6025-4450-8612-e4a8fe97140f'}
2024-10-26 15:04:48,140 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150448Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=029263009107e4f910825b3bcd6cdd1bd192a420fb1c23328ec62fa82c945ed9', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '5bc286e1-6025-4450-8612-e4a8fe97140f'}
2024-10-26 15:04:48,145 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:05:00,251 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:05:00,253 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:05:00,253 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 5bc286e1-6025-4450-8612-e4a8fe97140f
2024-10-26 15:07:26,535 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:07:26,536 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:07:26,578 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:07:26,578 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:07:26,688 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150726Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f687258f4b1f3dcdcaa26a54ca996b6eef26c086ca984dd7a1305d5322420a68
2024-10-26 15:07:26,706 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '75898f31-1e7b-40e2-8206-2497e6b2ad84', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150726Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f687258f4b1f3dcdcaa26a54ca996b6eef26c086ca984dd7a1305d5322420a68'}
2024-10-26 15:07:26,707 - /app/inference.py - utils - INFO - message_data:{'task_id': '75898f31-1e7b-40e2-8206-2497e6b2ad84', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150726Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f687258f4b1f3dcdcaa26a54ca996b6eef26c086ca984dd7a1305d5322420a68'}
2024-10-26 15:07:26,709 - /app/inference.py - utils - INFO - Processing message for task_id: 75898f31-1e7b-40e2-8206-2497e6b2ad84, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:07:28,092 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:07:28,094 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 75898f31-1e7b-40e2-8206-2497e6b2ad84
2024-10-26 15:07:28,094 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150726Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f687258f4b1f3dcdcaa26a54ca996b6eef26c086ca984dd7a1305d5322420a68', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '75898f31-1e7b-40e2-8206-2497e6b2ad84'}
2024-10-26 15:07:28,098 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150726Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=f687258f4b1f3dcdcaa26a54ca996b6eef26c086ca984dd7a1305d5322420a68', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '75898f31-1e7b-40e2-8206-2497e6b2ad84'}
2024-10-26 15:07:28,185 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:09:21,234 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:09:27,433 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:09:27,434 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:09:27,501 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:09:27,501 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:09:27,502 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150927Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=28fb8a00d2e7d9d933f72f66f2fc29ca57af9aacf78339ee758bab99f93f887e
2024-10-26 15:09:27,504 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '6a96d75e-39bd-4d03-8575-a654b073b415', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150927Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=28fb8a00d2e7d9d933f72f66f2fc29ca57af9aacf78339ee758bab99f93f887e'}
2024-10-26 15:09:27,506 - /app/inference.py - utils - INFO - message_data:{'task_id': '6a96d75e-39bd-4d03-8575-a654b073b415', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150927Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=28fb8a00d2e7d9d933f72f66f2fc29ca57af9aacf78339ee758bab99f93f887e'}
2024-10-26 15:09:27,506 - /app/inference.py - utils - INFO - Processing message for task_id: 6a96d75e-39bd-4d03-8575-a654b073b415, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:09:27,709 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:09:27,711 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 6a96d75e-39bd-4d03-8575-a654b073b415
2024-10-26 15:09:27,712 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150927Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=28fb8a00d2e7d9d933f72f66f2fc29ca57af9aacf78339ee758bab99f93f887e', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '6a96d75e-39bd-4d03-8575-a654b073b415'}
2024-10-26 15:09:27,715 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T150927Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=28fb8a00d2e7d9d933f72f66f2fc29ca57af9aacf78339ee758bab99f93f887e', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '6a96d75e-39bd-4d03-8575-a654b073b415'}
2024-10-26 15:09:27,732 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:09:43,153 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:09:43,154 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:09:43,155 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 6a96d75e-39bd-4d03-8575-a654b073b415
2024-10-26 15:13:20,726 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:14:20,733 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:15:13,997 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:15:14,002 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:15:14,003 - /app/modify.py - utils - INFO - ttl:134
2024-10-26 15:15:27,282 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:15:27,283 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:15:27,363 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:15:27,364 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:15:27,365 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T151527Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=35810dcb6e2536b880d8c2f419bccde424e36f42de08bee2ebd7cc17cb87b205
2024-10-26 15:15:27,368 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '7eb5c63c-4713-448f-a6d4-7fe93d21c2a9', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T151527Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=35810dcb6e2536b880d8c2f419bccde424e36f42de08bee2ebd7cc17cb87b205'}
2024-10-26 15:15:27,370 - /app/inference.py - utils - INFO - message_data:{'task_id': '7eb5c63c-4713-448f-a6d4-7fe93d21c2a9', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T151527Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=35810dcb6e2536b880d8c2f419bccde424e36f42de08bee2ebd7cc17cb87b205'}
2024-10-26 15:15:27,370 - /app/inference.py - utils - INFO - Processing message for task_id: 7eb5c63c-4713-448f-a6d4-7fe93d21c2a9, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:15:27,485 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:15:27,486 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 7eb5c63c-4713-448f-a6d4-7fe93d21c2a9
2024-10-26 15:15:27,487 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T151527Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=35810dcb6e2536b880d8c2f419bccde424e36f42de08bee2ebd7cc17cb87b205', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '7eb5c63c-4713-448f-a6d4-7fe93d21c2a9'}
2024-10-26 15:15:27,488 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T151527Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=35810dcb6e2536b880d8c2f419bccde424e36f42de08bee2ebd7cc17cb87b205', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '7eb5c63c-4713-448f-a6d4-7fe93d21c2a9'}
2024-10-26 15:15:27,496 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:15:44,002 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:15:44,003 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:15:44,003 - /app/modify.py - utils - INFO - ttl:104
2024-10-26 15:15:44,004 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:15:44,005 - /app/modify.py - utils - INFO - ttl:583
2024-10-26 15:15:46,201 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:15:46,203 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:15:46,204 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 7eb5c63c-4713-448f-a6d4-7fe93d21c2a9
2024-10-26 15:16:14,005 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:16:14,007 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:16:14,008 - /app/modify.py - utils - INFO - ttl:74
2024-10-26 15:16:14,009 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:16:14,010 - /app/modify.py - utils - INFO - ttl:92
2024-10-26 15:16:44,009 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:16:44,010 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:16:44,011 - /app/modify.py - utils - INFO - ttl:44
2024-10-26 15:20:17,520 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:20:21,256 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:20:21,257 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:20:21,326 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:20:21,326 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:20:21,327 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152021Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=eac1f67606ee947241df5d3834a969297dc536a162748d440c457a1cc6f10fea
2024-10-26 15:20:21,329 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '304376ef-4d7e-4046-83bc-d4fae8c26d40', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152021Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=eac1f67606ee947241df5d3834a969297dc536a162748d440c457a1cc6f10fea'}
2024-10-26 15:20:21,330 - /app/inference.py - utils - INFO - message_data:{'task_id': '304376ef-4d7e-4046-83bc-d4fae8c26d40', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152021Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=eac1f67606ee947241df5d3834a969297dc536a162748d440c457a1cc6f10fea'}
2024-10-26 15:20:21,330 - /app/inference.py - utils - INFO - Processing message for task_id: 304376ef-4d7e-4046-83bc-d4fae8c26d40, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:20:21,447 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:20:21,448 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 304376ef-4d7e-4046-83bc-d4fae8c26d40
2024-10-26 15:20:21,449 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152021Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=eac1f67606ee947241df5d3834a969297dc536a162748d440c457a1cc6f10fea', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '304376ef-4d7e-4046-83bc-d4fae8c26d40'}
2024-10-26 15:20:21,451 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152021Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=eac1f67606ee947241df5d3834a969297dc536a162748d440c457a1cc6f10fea', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '304376ef-4d7e-4046-83bc-d4fae8c26d40'}
2024-10-26 15:20:21,457 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:20:27,529 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:20:27,531 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:20:27,533 - /app/modify.py - utils - INFO - ttl:594
2024-10-26 15:20:37,533 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:20:37,535 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:20:37,537 - /app/modify.py - utils - INFO - ttl:584
2024-10-26 15:20:47,539 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:20:47,541 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:20:47,542 - /app/modify.py - utils - INFO - ttl:574
2024-10-26 15:20:57,543 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:20:57,544 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:20:57,545 - /app/modify.py - utils - INFO - ttl:564
2024-10-26 15:21:03,019 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:21:03,020 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:21:03,022 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 304376ef-4d7e-4046-83bc-d4fae8c26d40
2024-10-26 15:21:07,544 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:07,547 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:07,548 - /app/modify.py - utils - INFO - ttl:115
2024-10-26 15:21:17,550 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:17,552 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:17,553 - /app/modify.py - utils - INFO - ttl:105
2024-10-26 15:21:27,555 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:27,555 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:27,556 - /app/modify.py - utils - INFO - ttl:95
2024-10-26 15:21:37,555 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:37,558 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:37,560 - /app/modify.py - utils - INFO - ttl:85
2024-10-26 15:21:47,561 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:47,563 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:47,564 - /app/modify.py - utils - INFO - ttl:75
2024-10-26 15:21:57,568 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:21:57,570 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:21:57,572 - /app/modify.py - utils - INFO - ttl:65
2024-10-26 15:22:07,572 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:07,574 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:07,575 - /app/modify.py - utils - INFO - ttl:55
2024-10-26 15:22:07,576 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 55 seconds.
2024-10-26 15:22:07,662 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:22:17,665 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:17,667 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:17,669 - /app/modify.py - utils - INFO - ttl:45
2024-10-26 15:22:17,670 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 45 seconds.
2024-10-26 15:22:17,677 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:22:27,680 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:27,720 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:27,722 - /app/modify.py - utils - INFO - ttl:35
2024-10-26 15:22:27,723 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 35 seconds.
2024-10-26 15:22:27,725 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:22:37,725 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:37,728 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:37,730 - /app/modify.py - utils - INFO - ttl:25
2024-10-26 15:22:37,731 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 25 seconds.
2024-10-26 15:22:37,736 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:22:47,738 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:47,741 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:47,743 - /app/modify.py - utils - INFO - ttl:15
2024-10-26 15:22:47,744 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 15 seconds.
2024-10-26 15:22:47,750 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:22:57,751 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:22:57,754 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:22:57,756 - /app/modify.py - utils - INFO - ttl:5
2024-10-26 15:22:57,757 - /app/modify.py - utils - INFO - Key 304376ef-4d7e-4046-83bc-d4fae8c26d40 is about to expire in 5 seconds.
2024-10-26 15:22:57,761 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 304376ef-4d7e-4046-83bc-d4fae8c26d40: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:23:07,761 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:23:17,763 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:23:27,767 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:23:37,770 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:23:47,772 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:23:57,776 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:24:24,331 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:24:34,338 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:24:44,338 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:24:54,340 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:04,346 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:14,349 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:24,353 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:34,356 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:42,286 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:25:42,287 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:25:42,333 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:25:42,333 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:25:42,334 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152542Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e1e141591d65fe8ce211359269932292ecfbf9abc7dab611cc141bdaf2b46271
2024-10-26 15:25:42,337 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '4104a1e0-8370-4022-8396-b444b399aa6e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152542Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e1e141591d65fe8ce211359269932292ecfbf9abc7dab611cc141bdaf2b46271'}
2024-10-26 15:25:42,338 - /app/inference.py - utils - INFO - message_data:{'task_id': '4104a1e0-8370-4022-8396-b444b399aa6e', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152542Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e1e141591d65fe8ce211359269932292ecfbf9abc7dab611cc141bdaf2b46271'}
2024-10-26 15:25:42,339 - /app/inference.py - utils - INFO - Processing message for task_id: 4104a1e0-8370-4022-8396-b444b399aa6e, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:25:42,470 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:25:42,471 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 4104a1e0-8370-4022-8396-b444b399aa6e
2024-10-26 15:25:42,472 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152542Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e1e141591d65fe8ce211359269932292ecfbf9abc7dab611cc141bdaf2b46271', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '4104a1e0-8370-4022-8396-b444b399aa6e'}
2024-10-26 15:25:42,474 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152542Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e1e141591d65fe8ce211359269932292ecfbf9abc7dab611cc141bdaf2b46271', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '4104a1e0-8370-4022-8396-b444b399aa6e'}
2024-10-26 15:25:42,486 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:25:44,358 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:44,359 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:25:44,360 - /app/modify.py - utils - INFO - ttl:598
2024-10-26 15:25:54,362 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:25:54,363 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:25:54,364 - /app/modify.py - utils - INFO - ttl:588
2024-10-26 15:25:54,490 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:25:54,492 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:25:54,494 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 4104a1e0-8370-4022-8396-b444b399aa6e
2024-10-26 15:26:04,366 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:04,368 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:04,370 - /app/modify.py - utils - INFO - ttl:110
2024-10-26 15:26:14,370 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:14,372 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:14,374 - /app/modify.py - utils - INFO - ttl:100
2024-10-26 15:26:24,376 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:24,379 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:24,381 - /app/modify.py - utils - INFO - ttl:90
2024-10-26 15:26:34,385 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:34,388 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:34,390 - /app/modify.py - utils - INFO - ttl:80
2024-10-26 15:26:44,390 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:44,392 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:44,393 - /app/modify.py - utils - INFO - ttl:70
2024-10-26 15:26:54,395 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:26:54,396 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:26:54,398 - /app/modify.py - utils - INFO - ttl:60
2024-10-26 15:26:54,398 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 60 seconds.
2024-10-26 15:26:54,461 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:04,462 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:27:04,466 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:27:04,468 - /app/modify.py - utils - INFO - ttl:50
2024-10-26 15:27:04,469 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 50 seconds.
2024-10-26 15:27:04,475 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:14,475 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:27:14,478 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:27:14,480 - /app/modify.py - utils - INFO - ttl:40
2024-10-26 15:27:14,481 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 40 seconds.
2024-10-26 15:27:14,488 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:24,492 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:27:24,495 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:27:24,497 - /app/modify.py - utils - INFO - ttl:30
2024-10-26 15:27:24,499 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 30 seconds.
2024-10-26 15:27:24,509 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:34,511 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:27:34,514 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:27:34,516 - /app/modify.py - utils - INFO - ttl:20
2024-10-26 15:27:34,517 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 20 seconds.
2024-10-26 15:27:34,522 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:44,523 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:27:44,525 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:27:44,526 - /app/modify.py - utils - INFO - ttl:10
2024-10-26 15:27:44,527 - /app/modify.py - utils - INFO - Key 4104a1e0-8370-4022-8396-b444b399aa6e is about to expire in 10 seconds.
2024-10-26 15:27:44,533 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 4104a1e0-8370-4022-8396-b444b399aa6e: Textual SQL expression '\n                        ...' should be explicitly declared as text('\n                        ...')
2024-10-26 15:27:54,534 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:28:04,538 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:28:14,539 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:08,601 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:13,585 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:29:13,586 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:29:13,668 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:29:13,669 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:29:13,669 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152913Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c03ba8c2804e5f7ab3913a7648959c63f30ef8ebfedbf90d0762ac8d4a4ba220
2024-10-26 15:29:13,671 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '976ce89e-4a66-4795-a966-b57bc14d5707', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152913Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c03ba8c2804e5f7ab3913a7648959c63f30ef8ebfedbf90d0762ac8d4a4ba220'}
2024-10-26 15:29:13,672 - /app/inference.py - utils - INFO - message_data:{'task_id': '976ce89e-4a66-4795-a966-b57bc14d5707', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152913Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c03ba8c2804e5f7ab3913a7648959c63f30ef8ebfedbf90d0762ac8d4a4ba220'}
2024-10-26 15:29:13,672 - /app/inference.py - utils - INFO - Processing message for task_id: 976ce89e-4a66-4795-a966-b57bc14d5707, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:29:13,791 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:29:13,792 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 976ce89e-4a66-4795-a966-b57bc14d5707
2024-10-26 15:29:13,792 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152913Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c03ba8c2804e5f7ab3913a7648959c63f30ef8ebfedbf90d0762ac8d4a4ba220', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '976ce89e-4a66-4795-a966-b57bc14d5707'}
2024-10-26 15:29:13,794 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T152913Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c03ba8c2804e5f7ab3913a7648959c63f30ef8ebfedbf90d0762ac8d4a4ba220', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '976ce89e-4a66-4795-a966-b57bc14d5707'}
2024-10-26 15:29:13,801 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:29:18,609 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:18,611 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:29:18,612 - /app/modify.py - utils - INFO - ttl:595
2024-10-26 15:29:28,614 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:28,617 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:29:28,618 - /app/modify.py - utils - INFO - ttl:585
2024-10-26 15:29:33,240 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:29:33,243 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:29:33,244 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 976ce89e-4a66-4795-a966-b57bc14d5707
2024-10-26 15:29:38,619 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:38,620 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:29:38,622 - /app/modify.py - utils - INFO - ttl:55
2024-10-26 15:29:38,622 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 55 seconds.
2024-10-26 15:29:38,687 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:29:48,690 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:48,692 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:29:48,693 - /app/modify.py - utils - INFO - ttl:45
2024-10-26 15:29:48,694 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 45 seconds.
2024-10-26 15:29:48,698 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:29:58,699 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:29:58,701 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:29:58,703 - /app/modify.py - utils - INFO - ttl:35
2024-10-26 15:29:58,703 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 35 seconds.
2024-10-26 15:29:58,709 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:30:08,709 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:30:08,711 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:30:08,713 - /app/modify.py - utils - INFO - ttl:25
2024-10-26 15:30:08,714 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 25 seconds.
2024-10-26 15:30:08,723 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:30:18,724 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:30:18,725 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:30:18,726 - /app/modify.py - utils - INFO - ttl:15
2024-10-26 15:30:18,726 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 15 seconds.
2024-10-26 15:30:18,728 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:30:28,230 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:30:28,232 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:30:28,234 - /app/modify.py - utils - INFO - ttl:5
2024-10-26 15:30:28,235 - /app/modify.py - utils - INFO - Key 976ce89e-4a66-4795-a966-b57bc14d5707 is about to expire in 5 seconds.
2024-10-26 15:30:28,242 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 976ce89e-4a66-4795-a966-b57bc14d5707: text() takes 1 positional argument but 2 were given
2024-10-26 15:30:38,743 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:00,668 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:05,787 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:31:05,788 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:31:05,855 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:31:05,856 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:31:05,856 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153105Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=34e27495eb3df9900ba070213c20428d5faabe91f6a461d71aec561a421d520e
2024-10-26 15:31:05,858 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '6b205f12-8084-43a7-9ca5-15afb5a9426c', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153105Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=34e27495eb3df9900ba070213c20428d5faabe91f6a461d71aec561a421d520e'}
2024-10-26 15:31:05,858 - /app/inference.py - utils - INFO - message_data:{'task_id': '6b205f12-8084-43a7-9ca5-15afb5a9426c', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153105Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=34e27495eb3df9900ba070213c20428d5faabe91f6a461d71aec561a421d520e'}
2024-10-26 15:31:05,859 - /app/inference.py - utils - INFO - Processing message for task_id: 6b205f12-8084-43a7-9ca5-15afb5a9426c, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:31:05,980 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:31:05,981 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 6b205f12-8084-43a7-9ca5-15afb5a9426c
2024-10-26 15:31:05,981 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153105Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=34e27495eb3df9900ba070213c20428d5faabe91f6a461d71aec561a421d520e', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '6b205f12-8084-43a7-9ca5-15afb5a9426c'}
2024-10-26 15:31:05,983 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153105Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=34e27495eb3df9900ba070213c20428d5faabe91f6a461d71aec561a421d520e', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '6b205f12-8084-43a7-9ca5-15afb5a9426c'}
2024-10-26 15:31:05,989 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:31:10,675 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:10,676 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:31:10,678 - /app/modify.py - utils - INFO - ttl:595
2024-10-26 15:31:20,679 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:20,681 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:31:20,683 - /app/modify.py - utils - INFO - ttl:585
2024-10-26 15:31:25,459 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:31:25,461 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:31:25,461 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 6b205f12-8084-43a7-9ca5-15afb5a9426c
2024-10-26 15:31:30,686 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:30,687 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:31:30,689 - /app/modify.py - utils - INFO - ttl:55
2024-10-26 15:31:30,690 - /app/modify.py - utils - INFO - Key 6b205f12-8084-43a7-9ca5-15afb5a9426c is about to expire in 55 seconds.
2024-10-26 15:31:30,770 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 6b205f12-8084-43a7-9ca5-15afb5a9426c: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "corrected" of relation "history" does not exist
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                    corrected = $3 
                                WHERE task_id = $4
                                ]
[parameters: ('猕猴桃', 300.0, True, '6b205f12-8084-43a7-9ca5-15afb5a9426c')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:31:40,771 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:40,773 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:31:40,774 - /app/modify.py - utils - INFO - ttl:45
2024-10-26 15:31:40,775 - /app/modify.py - utils - INFO - Key 6b205f12-8084-43a7-9ca5-15afb5a9426c is about to expire in 45 seconds.
2024-10-26 15:31:40,782 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 6b205f12-8084-43a7-9ca5-15afb5a9426c: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "corrected" of relation "history" does not exist
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                    corrected = $3 
                                WHERE task_id = $4
                                ]
[parameters: ('猕猴桃', 300.0, True, '6b205f12-8084-43a7-9ca5-15afb5a9426c')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:31:50,784 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:31:50,785 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:31:50,786 - /app/modify.py - utils - INFO - ttl:35
2024-10-26 15:31:50,786 - /app/modify.py - utils - INFO - Key 6b205f12-8084-43a7-9ca5-15afb5a9426c is about to expire in 35 seconds.
2024-10-26 15:31:50,790 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 6b205f12-8084-43a7-9ca5-15afb5a9426c: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "corrected" of relation "history" does not exist
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                    corrected = $3 
                                WHERE task_id = $4
                                ]
[parameters: ('猕猴桃', 300.0, True, '6b205f12-8084-43a7-9ca5-15afb5a9426c')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:32:00,791 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:32:00,792 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:32:00,793 - /app/modify.py - utils - INFO - ttl:25
2024-10-26 15:32:00,793 - /app/modify.py - utils - INFO - Key 6b205f12-8084-43a7-9ca5-15afb5a9426c is about to expire in 25 seconds.
2024-10-26 15:32:00,797 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 6b205f12-8084-43a7-9ca5-15afb5a9426c: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "corrected" of relation "history" does not exist
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                    corrected = $3 
                                WHERE task_id = $4
                                ]
[parameters: ('猕猴桃', 300.0, True, '6b205f12-8084-43a7-9ca5-15afb5a9426c')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:32:10,797 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:32:10,798 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:32:10,799 - /app/modify.py - utils - INFO - ttl:15
2024-10-26 15:32:10,799 - /app/modify.py - utils - INFO - Key 6b205f12-8084-43a7-9ca5-15afb5a9426c is about to expire in 15 seconds.
2024-10-26 15:32:10,804 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 6b205f12-8084-43a7-9ca5-15afb5a9426c: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "corrected" of relation "history" does not exist
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                    corrected = $3 
                                WHERE task_id = $4
                                ]
[parameters: ('猕猴桃', 300.0, True, '6b205f12-8084-43a7-9ca5-15afb5a9426c')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:32:34,339 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:32:35,339 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:32:35,340 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:32:35,427 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:32:35,427 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:32:35,428 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153235Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=952ea08ce8d0f26ec49746517272cec16c5c881f3e58652f0cdd11b7f78b51bb
2024-10-26 15:32:35,430 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '84d0eaf5-6f0b-4920-acb8-7ace4db24907', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153235Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=952ea08ce8d0f26ec49746517272cec16c5c881f3e58652f0cdd11b7f78b51bb'}
2024-10-26 15:32:35,431 - /app/inference.py - utils - INFO - message_data:{'task_id': '84d0eaf5-6f0b-4920-acb8-7ace4db24907', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153235Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=952ea08ce8d0f26ec49746517272cec16c5c881f3e58652f0cdd11b7f78b51bb'}
2024-10-26 15:32:35,437 - /app/inference.py - utils - INFO - Processing message for task_id: 84d0eaf5-6f0b-4920-acb8-7ace4db24907, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:32:35,582 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:32:35,583 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 84d0eaf5-6f0b-4920-acb8-7ace4db24907
2024-10-26 15:32:35,584 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153235Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=952ea08ce8d0f26ec49746517272cec16c5c881f3e58652f0cdd11b7f78b51bb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '84d0eaf5-6f0b-4920-acb8-7ace4db24907'}
2024-10-26 15:32:35,586 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153235Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=952ea08ce8d0f26ec49746517272cec16c5c881f3e58652f0cdd11b7f78b51bb', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '84d0eaf5-6f0b-4920-acb8-7ace4db24907'}
2024-10-26 15:32:35,605 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:32:44,344 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:32:44,347 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:32:44,348 - /app/modify.py - utils - INFO - ttl:591
2024-10-26 15:32:49,865 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:32:49,867 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:32:49,868 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 84d0eaf5-6f0b-4920-acb8-7ace4db24907
2024-10-26 15:32:54,349 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:32:54,350 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:32:54,351 - /app/modify.py - utils - INFO - ttl:56
2024-10-26 15:32:54,351 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 56 seconds.
2024-10-26 15:32:54,410 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:33:04,411 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:33:04,413 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:33:04,415 - /app/modify.py - utils - INFO - ttl:45
2024-10-26 15:33:04,416 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 45 seconds.
2024-10-26 15:33:04,424 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:33:14,424 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:33:14,426 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:33:14,427 - /app/modify.py - utils - INFO - ttl:35
2024-10-26 15:33:14,428 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 35 seconds.
2024-10-26 15:33:14,434 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:33:24,437 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:33:24,440 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:33:24,442 - /app/modify.py - utils - INFO - ttl:25
2024-10-26 15:33:24,443 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 25 seconds.
2024-10-26 15:33:24,450 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:33:34,451 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:33:34,453 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:33:34,455 - /app/modify.py - utils - INFO - ttl:15
2024-10-26 15:33:34,456 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 15 seconds.
2024-10-26 15:33:34,464 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:33:44,466 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:33:44,467 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:33:44,468 - /app/modify.py - utils - INFO - ttl:5
2024-10-26 15:33:44,468 - /app/modify.py - utils - INFO - Key 84d0eaf5-6f0b-4920-acb8-7ace4db24907 is about to expire in 5 seconds.
2024-10-26 15:33:44,472 - /app/modify.py - utils - ERROR - Error updating PostgreSQL for task_id 84d0eaf5-6f0b-4920-acb8-7ace4db24907: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.PostgresSyntaxError'>: syntax error at or near "WHERE"
[SQL: 
                                UPDATE history 
                                SET inference_result = $1,
                                    weight_result = $2,
                                WHERE task_id = $3
                                ]
[parameters: ('猕猴桃', 300.0, '84d0eaf5-6f0b-4920-acb8-7ace4db24907')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-26 15:34:03,811 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:13,815 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:23,818 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:28,340 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:34:28,341 - /app/upload.py - utils - INFO - User test2 sent image: 100332.jpg
2024-10-26 15:34:28,402 - /app/upload.py - utils - INFO - Uploaded image: 100332.jpg
2024-10-26 15:34:28,403 - /app/utils.py - utils - INFO - EXTERNAL_MINIO_ENDPOINT: 117.72.78.52:9000
2024-10-26 15:34:28,403 - /app/utils.py - utils - INFO - presigned_url:http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153428Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c0e2e9ae61b4fa21d53495ecbbb46cb4cf5960a1bbafa1592960592a88c452ab
2024-10-26 15:34:28,405 - /app/upload.py - utils - INFO - Sent message to image_topic: {'task_id': '707452d9-e3b2-4f86-b5c6-219013c59dae', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153428Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c0e2e9ae61b4fa21d53495ecbbb46cb4cf5960a1bbafa1592960592a88c452ab'}
2024-10-26 15:34:28,406 - /app/inference.py - utils - INFO - message_data:{'task_id': '707452d9-e3b2-4f86-b5c6-219013c59dae', 'image_path': 'http://minio:9000/photos/100332.jpg', 'openid': 'test2', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153428Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c0e2e9ae61b4fa21d53495ecbbb46cb4cf5960a1bbafa1592960592a88c452ab'}
2024-10-26 15:34:28,406 - /app/inference.py - utils - INFO - Processing message for task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae, image_path: http://minio:9000/photos/100332.jpg
2024-10-26 15:34:28,536 - /app/inference.py - utils - INFO - Inference result: sushi, Weight result: 100.0
2024-10-26 15:34:28,537 - /app/inference.py - utils - INFO - Result stored in Redis for task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:34:28,538 - /app/inference.py - utils - INFO - Sending to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153428Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c0e2e9ae61b4fa21d53495ecbbb46cb4cf5960a1bbafa1592960592a88c452ab', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '707452d9-e3b2-4f86-b5c6-219013c59dae'}
2024-10-26 15:34:28,540 - /app/inference.py - utils - INFO - Sent to history_topic: {'image_path': 'http://minio:9000/photos/100332.jpg', 'presigned_url': 'http://117.72.78.52:9000/photos/100332.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20241026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20241026T153428Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=c0e2e9ae61b4fa21d53495ecbbb46cb4cf5960a1bbafa1592960592a88c452ab', 'inference_result': 'sushi', 'weight_result': 100.0, 'openid': 'test2', 'task_id': '707452d9-e3b2-4f86-b5c6-219013c59dae'}
2024-10-26 15:34:28,550 - /app/utils.py - utils - INFO - Store history success
2024-10-26 15:34:33,820 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:33,823 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:34:33,824 - /app/modify.py - utils - INFO - ttl:595
2024-10-26 15:34:42,905 - /app/utils.py - utils - INFO - JWT decode success
2024-10-26 15:34:42,907 - /app/modify.py - utils - INFO - Before modifying: sushi, 100.0, False
2024-10-26 15:34:42,908 - /app/modify.py - utils - INFO - Cache_result updated in Redis for task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:34:43,825 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:43,826 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:34:43,826 - /app/modify.py - utils - INFO - ttl:59
2024-10-26 15:34:43,827 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 59 seconds.
2024-10-26 15:34:43,920 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:34:53,936 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:34:53,939 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:34:53,940 - /app/modify.py - utils - INFO - ttl:49
2024-10-26 15:34:53,941 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 49 seconds.
2024-10-26 15:34:53,945 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:35:03,961 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:35:03,964 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:35:03,966 - /app/modify.py - utils - INFO - ttl:39
2024-10-26 15:35:03,967 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 39 seconds.
2024-10-26 15:35:03,976 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:35:13,992 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:35:13,993 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:35:13,994 - /app/modify.py - utils - INFO - ttl:29
2024-10-26 15:35:13,994 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 29 seconds.
2024-10-26 15:35:13,998 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:35:24,010 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:35:24,012 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:35:24,015 - /app/modify.py - utils - INFO - ttl:19
2024-10-26 15:35:24,016 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 19 seconds.
2024-10-26 15:35:24,023 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:35:34,037 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:35:34,040 - /app/modify.py - utils - INFO - keys is not empty
2024-10-26 15:35:34,042 - /app/modify.py - utils - INFO - ttl:9
2024-10-26 15:35:34,044 - /app/modify.py - utils - INFO - Key 707452d9-e3b2-4f86-b5c6-219013c59dae is about to expire in 9 seconds.
2024-10-26 15:35:34,052 - /app/modify.py - utils - INFO - Updated PostgreSQL for expired task_id: 707452d9-e3b2-4f86-b5c6-219013c59dae
2024-10-26 15:35:44,066 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:35:54,069 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:36:04,073 - /app/modify.py - utils - INFO - Checking now...
2024-10-26 15:36:14,074 - /app/modify.py - utils - INFO - Checking now...
